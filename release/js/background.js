(()=>{var n,e;n={},e={},chrome.runtime.onConnect.addListener((function(o){console.log("on Connnect "+o.name,o);var a,i,d="DevPanel",r="contentChrome",l=0;if(0==o.name.indexOf(d))a=n,i=e,l=+o.name.replace(d,"");else{if(0!=o.name.indexOf(r))return void console.log("不是 合法的prot.name"+o.name);a=e,i=n,l=o.sender.tab.id}a[o.name]=o,o.onMessage.addListener((function(n,e){for(var o in console.log("Background 接收到 onConnect 消息： ",n,e),i){var a=i[o],t=0;0==a.name.indexOf(d)?t=+a.name.replace(d,""):0==a.name.indexOf(r)&&(t=a.sender.tab.id),t==l&&a.postMessage(n)}})),o.onDisconnect.addListener((function(){var n,e,i=(null===(e=null===(n=null==o?void 0:o.sender)||void 0===n?void 0:n.tab)||void 0===e?void 0:e.url)||"";console.log("断开链接： "+o.name+" in "+i),delete a[o.name]}))}))})();