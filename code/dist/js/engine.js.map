{"version":3,"file":"js/engine.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./src/common/ConstVars.ts","webpack:///./src/common/EventBase.ts","webpack:///./src/common/TreeNode.ts","webpack:///./src/common/Utils.ts","webpack:///./src/engine/cocos2dx/Cocos2dxEngineInfo.ts","webpack:///./src/engine/cocos2dx/Cocos2dxStageMask.ts","webpack:///./src/engine/cocoscreator/CocosCreatorEngineInfo.ts","webpack:///./src/engine/cocoscreator/CocosCreatorMouseEvent.ts","webpack:///./src/engine/cocoscreator/CocosCreatorStageMask.ts","webpack:///./src/engine/cocoscreator/version2X/CocosCreator2XDraw.ts","webpack:///./src/engine/cocoscreator/version2X/CocosCreator2XMouseEvent.ts","webpack:///./src/engine/cocoscreator/version3X/CocosCreator3XDraw.ts","webpack:///./src/engine/cocoscreator/version3X/CocosCreator3XMouseEvent.ts","webpack:///./src/engine/egret/EgretEnginInfo.ts","webpack:///./src/engine/egret/EgretMouseEvent.ts","webpack:///./src/engine/egret/EgretStageRectMask.ts","webpack:///./src/engine/laya/LayaEngineInfo.ts","webpack:///./src/engine/laya/LayaMouseEvent.ts","webpack:///./src/engine/laya/LayaStageRectMask.ts","webpack:///./src/engine/pixi/PIXIEngineInfo.ts","webpack:///./src/engine/pixi/PIXIStageRectMask.ts","webpack:///webpack/bootstrap","webpack:///./src/engine/EngineManager.ts"],"sourcesContent":["Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConstVars = void 0;\r\nvar ConstVars = /** @class */ (function () {\r\n    function ConstVars() {\r\n    }\r\n    // public static HOMEURL = \"https://chengyoujie.github.io/GameInspect\";\r\n    // public static HOMEURL = \"http://172.18.2.153:9898/myProgream/GameInspect\";// /version/version.txt\r\n    // public static ReleaseURL= \"https://github.com/chengyoujie/GameInspect/releases/download/release\"\r\n    ConstVars.VERSIONURL = \"https://github.com/chengyoujie/GameInspect/releases/download/release\";\r\n    ConstVars.VERSIONINFOURL = \"https://chengyoujie.github.io/GameInspect/version/version.txt\";\r\n    //测试\r\n    // public static VERSIONINFOURL = \"http://172.18.2.153:9898/myProgream/GameInspect/version/version.txt\";\r\n    ConstVars.StageMaskName = \"$GAME_INSPECT_MASK\";\r\n    ConstVars.BUGURL = \"https://github.com/chengyoujie/GameInspect/issues\";\r\n    //\r\n    ConstVars.GitHubURL = \"https://github.com/chengyoujie/GameInspect\";\r\n    ConstVars.TongJiURL = \"https://hm.baidu.com/hm.js?616b91f08c766f10bb08e53dab9823fe\";\r\n    ConstVars.QQ = \"613279506\";\r\n    /**心跳 */\r\n    ConstVars.HEARTBEAT = 5000;\r\n    /** 游戏是否已经重新加载过了 */\r\n    ConstVars.WINDOW_RELOAD_TAG = \"$gameInspectHasReload\";\r\n    /** 游戏是否已经注入了reload的代码 */\r\n    ConstVars.WINDOW_INJECT_RELOAD_CODE = \"$gameInspectReloadCode\";\r\n    /** 游戏是否 已经找到引擎了 */\r\n    ConstVars.WINDOW_HAS_FIND_ENGINE = \"$gameInspectHasFindEngine\";\r\n    /**引擎Manager的属性名 */\r\n    ConstVars.ENGINE_MANAGER_PROP_NAME = \"$gameInspectEngineManager\";\r\n    /** */\r\n    ConstVars.GAMEINSPECT_CLASS_KEY = \"$_gameInspect_class_key_$\";\r\n    //正式\r\n    ConstVars.DEBUG = false;\r\n    ConstVars.DEV = false;\r\n    //内网\r\n    // public static DEBUG = false;\r\n    // public static DEV = true;\r\n    //测试\r\n    // public static DEBUG = true;\r\n    // public static DEV = false;\r\n    ConstVars.$GAMEURL = \"#GAMEURL#\";\r\n    ConstVars.$SITEURL = \"#SITEURL#\";\r\n    ConstVars.$EngineName = \"#ENGINENAME#\";\r\n    //$SiteURL 网站地址  $FrameURL 框架地址\r\n    ConstVars.$VarGameURL = \"$gameURL\";\r\n    ConstVars.$VarSiteURL = \"$siteURL\";\r\n    ConstVars.$VarEngineName = \"$engineName\";\r\n    ConstVars.$SCRITP_NAMES = \"gameInsectScriptNames\";\r\n    ConstVars.SPECIAL_NAME_START = \"{\";\r\n    ConstVars.SPECIAL_NAME_END = \"}\";\r\n    return ConstVars;\r\n}());\r\nexports.ConstVars = ConstVars;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventBase = void 0;\r\nvar EventBase = /** @class */ (function () {\r\n    function EventBase() {\r\n        this._eventDic = {};\r\n    }\r\n    EventBase.prototype.on = function (event, fun, thisObj) {\r\n        var s = this;\r\n        if (!s._eventDic[event])\r\n            s._eventDic[event] = [];\r\n        s._eventDic[event].push({ thisObj: thisObj, fun: fun });\r\n    };\r\n    EventBase.prototype.trigger = function (event) {\r\n        var params = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            params[_i - 1] = arguments[_i];\r\n        }\r\n        var s = this;\r\n        var list = s._eventDic[event];\r\n        if (list) {\r\n            for (var i = 0; i < list.length; i++) {\r\n                list[i].fun.apply(list[i].thisObj, params);\r\n            }\r\n        }\r\n    };\r\n    EventBase.prototype.clear = function () {\r\n        this._eventDic = {};\r\n    };\r\n    return EventBase;\r\n}());\r\nexports.EventBase = EventBase;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TreeNode = void 0;\r\nvar EventBase_1 = require(\"./EventBase\");\r\nvar TreeNode = /** @class */ (function (_super) {\r\n    __extends(TreeNode, _super);\r\n    function TreeNode(node) {\r\n        var _this = _super.call(this) || this;\r\n        _this.uid = \"\";\r\n        _this.name = \"\";\r\n        _this.memberName = \"\";\r\n        _this.icon = \"\";\r\n        _this.visible = true;\r\n        _this.children = [];\r\n        _this.hasChildren = false;\r\n        _this.props = {};\r\n        _this.show = false;\r\n        _this._selected = false;\r\n        var s = _this;\r\n        if (node) {\r\n            var obj = void 0;\r\n            if (typeof node == \"string\") {\r\n                obj = JSON.parse(node);\r\n            }\r\n            else {\r\n                obj = node;\r\n            }\r\n            var props = Object.getOwnPropertyNames(obj);\r\n            for (var pindex in props) {\r\n                var key = props[pindex];\r\n                if (key == \"children\") {\r\n                    var children = obj[key];\r\n                    s.updateChild(children, false);\r\n                }\r\n                else {\r\n                    s[key] = obj[key];\r\n                }\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    TreeNode.prototype.toggle = function () {\r\n        var s = this;\r\n        s.show = !s.show;\r\n        s.showChildren();\r\n        s.updateIcon();\r\n        s.trigger(\"showChange\" /* TreeNodeEvent.ShowChange */);\r\n    };\r\n    Object.defineProperty(TreeNode.prototype, \"selected\", {\r\n        get: function () { return this._selected; },\r\n        set: function (value) {\r\n            var s = this;\r\n            s._selected = value;\r\n            if (s._selected)\r\n                s.trigger(\"onSelected\" /* TreeNodeEvent.OnSelected */);\r\n            else\r\n                s.trigger(\"unselected\" /* TreeNodeEvent.UnSelected */);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TreeNode.prototype.parserProp = function () {\r\n    };\r\n    TreeNode.prototype.showChildren = function () {\r\n        var s = this;\r\n        if (s.show) {\r\n        }\r\n    };\r\n    TreeNode.prototype.replaceChild = function (item) {\r\n        var s = this;\r\n        for (var i = 0; i < s.children.length; i++) {\r\n            if (s.children[i].uid == item.uid) {\r\n                s.children[i] = item;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    TreeNode.prototype.updateChild = function (children, tigger) {\r\n        if (tigger === void 0) { tigger = true; }\r\n        var s = this;\r\n        s.children.length = 0;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var childNode = new TreeNode(children[i]);\r\n            s.children.push(childNode);\r\n        }\r\n        s.hasChildren = s.children.length > 0;\r\n        if (tigger)\r\n            this.trigger(\"childrenChange\" /* TreeNodeEvent.ChildrenChange */);\r\n    };\r\n    TreeNode.prototype.updateProps = function (props) {\r\n        var s = this;\r\n        s.props = {};\r\n        if (!props)\r\n            return;\r\n        s.props = props;\r\n    };\r\n    TreeNode.prototype.changeProps = function (newValue, propPath) {\r\n        var s = this;\r\n        var obj = s.props;\r\n        if (propPath) {\r\n            var paths = propPath.split(\".\");\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (i == paths.length - 1) {\r\n                    if (obj[paths[i]])\r\n                        obj[paths[i]].value = newValue;\r\n                }\r\n                else {\r\n                    obj = obj[paths[i]] ? obj[paths[i]].value : null;\r\n                    if (!obj)\r\n                        return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeNode.prototype.updateIcon = function () {\r\n        this.icon = this.hasChildren ? this.show ? \"-\" : \"+\" : \"&nbsp;\";\r\n    };\r\n    TreeNode.prototype.on = function (event, fun, thisObj) {\r\n        _super.prototype.on.call(this, event, fun, thisObj);\r\n    };\r\n    return TreeNode;\r\n}(EventBase_1.EventBase));\r\nexports.TreeNode = TreeNode;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Utils = void 0;\r\nvar ConstVars_1 = require(\"./ConstVars\");\r\nvar Utils = /** @class */ (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getUID = function () {\r\n        var s = this;\r\n        s._uid++;\r\n        return s._uid;\r\n    };\r\n    Utils.stringifyValue = function (value) {\r\n        var type = typeof value;\r\n        if (value == null)\r\n            return \"null\";\r\n        if (value == undefined)\r\n            return \"undefined\";\r\n        switch (type) {\r\n            case \"string\":\r\n                return value;\r\n            case \"bigint\":\r\n            case \"number\":\r\n                return isNaN(value) ? \"NaN\" : value;\r\n            case \"object\":\r\n                if (Array.isArray(value)) {\r\n                    return \"array\";\r\n                }\r\n                else {\r\n                    return this.getClassName(value); //value.constructor[\"name\"] || \"object\";\r\n                }\r\n            case \"function\":\r\n                return String(value);\r\n            default:\r\n                return String(value);\r\n        }\r\n    };\r\n    Utils.parseValue = function (value) {\r\n        if (value == \"NaN\" || value == \"undefined\")\r\n            return undefined;\r\n        if (value == \"null\")\r\n            return null;\r\n        if (value == \"true\")\r\n            return true;\r\n        if (value == \"false\")\r\n            return false;\r\n        try {\r\n            return JSON.parse(value); //s.modifyPropValueType(prop, changeValue);\r\n        }\r\n        catch (e) {\r\n            return value;\r\n        }\r\n    };\r\n    Utils.getClassName = function (obj) {\r\n        if (typeof obj == \"number\" || typeof obj == \"string\")\r\n            return obj;\r\n        if (obj[\"__class__\"])\r\n            return obj.__class__; //egret\r\n        if (obj.constructor && obj.constructor[\"__classid\"] && obj.constructor[\"__classid\"].indexOf && obj.constructor[\"__classid\"].indexOf(\"CLS_\") != 0)\r\n            return obj.constructor.__classid; //my game\r\n        if (obj[\"$owner\"] && obj[\"$owner\"].constructor)\r\n            return obj[\"$owner\"].constructor.name; //fgui\r\n        if (obj.__classname__)\r\n            return obj.__classname__; //Cocos create\r\n        if (obj._className)\r\n            return obj._className; //Cocos2d-JS\r\n        if (obj.__className && obj.__className.substring(0, 4).toLocaleLowerCase() != \"laya\")\r\n            return obj.__className; //其他\r\n        if (obj[ConstVars_1.ConstVars.GAMEINSPECT_CLASS_KEY])\r\n            return obj[ConstVars_1.ConstVars.GAMEINSPECT_CLASS_KEY];\r\n        if (obj.constructor && obj.constructor.name)\r\n            return obj.constructor.name; //common\r\n        return typeof obj;\r\n    };\r\n    Utils.log = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (!args || args.length == 0)\r\n            return;\r\n        var colors = [\"#a6d2b5\", \"#cda6d2\", \"#d2a6b1\", \"#a6bfd2\", \"#d2b2a6\", \"#a6a8d2\", \"#d190df\"];\r\n        var logParams = [\"\"];\r\n        for (var i = 0; i < args.length; i++) {\r\n            var color = colors[i % colors.length];\r\n            logParams[0] += (i == 0 ? \"\" : \" \") + \"%c \" + args[i];\r\n            var cornerLeft = i == 0 ? 3 : 0;\r\n            var cornerRight = i == args.length - 1 ? 3 : 0;\r\n            logParams.push(\"background: \".concat(color, \"; padding: 4px;font-size: 13px; border-radius: \").concat(cornerLeft, \"px \").concat(cornerRight, \"px \").concat(cornerRight, \"px \").concat(cornerLeft, \"px; color: #163808\"));\r\n        }\r\n        this.ConsoleLogFun.apply(console, logParams);\r\n    };\r\n    Utils.error = function (msg) {\r\n        this.ConsoleLogFun.call(console, \"%c\".concat(msg), 'background: #f5a2a2; padding: 4px; width:100%; border-radius: 3px 3px 3px 3px; color: #ff0000;font-size: 13px;');\r\n    };\r\n    Utils.transformUserRuleCode = function (code, urls) {\r\n        var engineName = \"\";\r\n        var frameURL = \"\";\r\n        var sitURL = \"\";\r\n        for (var i = 0; i < urls.length; i++) {\r\n            if (urls[i].engine) {\r\n                engineName = urls[i].engine;\r\n                frameURL = urls[i].url;\r\n            }\r\n            if (!urls[i].frameId) {\r\n                sitURL = urls[i].url;\r\n            }\r\n        }\r\n        code = this.replaceAll(code, ConstVars_1.ConstVars.$EngineName, '\"' + engineName + '\"', ConstVars_1.ConstVars.$SITEURL, '\"' + sitURL + '\"', ConstVars_1.ConstVars.$GAMEURL, '\"' + frameURL + '\"');\r\n        // code = code.replace(ConstVars.$EngineName, '\"'+engineName+'\"').replace(ConstVars.$SITEURL, '\"'+sitURL+'\"').replace(ConstVars.$GAMEURL, '\"'+frameURL+'\"')\r\n        return code;\r\n    };\r\n    /**\r\n     * 添加script 代码\r\n     * @param code\r\n     */\r\n    Utils.addScript = function (code, name, override) {\r\n        if (override === void 0) { override = true; }\r\n        name = \"$gameInspectInsertScript_\" + name;\r\n        var tag = document.getElementById(name);\r\n        if (tag) {\r\n            if (!override)\r\n                return;\r\n            document.head.removeChild(tag);\r\n        }\r\n        var script = document.createElement(\"script\");\r\n        script.innerHTML = code;\r\n        script.id = name;\r\n        try {\r\n            document.head.appendChild(script);\r\n        }\r\n        catch (e) {\r\n            if (ConstVars_1.ConstVars.DEBUG) {\r\n                console.log(\"添加脚本失败 \" + name);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * 添加script 代码\r\n     * @param code\r\n     */\r\n    Utils.addSrcScript = function (src, name, callBack, override) {\r\n        if (callBack === void 0) { callBack = null; }\r\n        if (override === void 0) { override = true; }\r\n        name = \"$gameInspectInsertSrcScript_\" + name;\r\n        var tag = document.getElementById(name);\r\n        if (tag) {\r\n            if (!override)\r\n                return;\r\n            document.head.removeChild(tag);\r\n        }\r\n        var s = this;\r\n        var script = document.createElement(\"script\");\r\n        script.src = src;\r\n        script.id = name;\r\n        script.onload = function () {\r\n            //添加用户的代码\r\n            if (callBack)\r\n                callBack(true);\r\n        };\r\n        script.onerror = function () {\r\n            if (callBack)\r\n                callBack(false);\r\n        };\r\n        document.head.appendChild(script);\r\n    };\r\n    Utils.evalUserRuleCode = function (code, url, name) {\r\n        var s = this;\r\n        var engineName = \"\";\r\n        var sitURL = \"\";\r\n        var frameURL = \"\";\r\n        if (url.engine) {\r\n            engineName = url.engine;\r\n            frameURL = url.url;\r\n        }\r\n        if (!url.frameId)\r\n            sitURL = url.url;\r\n        code = this.replaceAll(code, ConstVars_1.ConstVars.$VarEngineName, '\"' + engineName + '\"', ConstVars_1.ConstVars.$VarSiteURL, '\"' + sitURL + '\"', ConstVars_1.ConstVars.$VarGameURL, '\"' + frameURL + '\"');\r\n        var funName = \"$gameInspectMatchUserCode\".concat(name);\r\n        Utils.addScript(\"function \".concat(funName, \"(){\\n            \").concat(code, \";\\n        }\\n        \"), \"useMatchScprit\" + name);\r\n        return window[funName] ? window[funName]() : false;\r\n    };\r\n    Utils.replaceAll = function (str) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (!str)\r\n            return str;\r\n        for (var i = 0; i < args.length; i += 2) {\r\n            var oldValue = args[i];\r\n            var replaceValue = args[i + 1];\r\n            oldValue = oldValue.replace(/(\\$|\\||\\.|\\*|\\?|\\+|\\{|\\}|\\[|\\]|\\%)/gi, \"\\\\$1\");\r\n            var reg = new RegExp(oldValue, \"gi\");\r\n            str = str.replace(reg, replaceValue);\r\n        }\r\n        return str;\r\n    };\r\n    Utils.totast = function (msg) {\r\n        this._totastId++;\r\n        var id = \"gameInspectTotast\" + this._totastId;\r\n        var jquery = window[\"$\"];\r\n        if (!jquery)\r\n            return;\r\n        var msgTag = jquery('<div id=\"' + id + '\" class=\"totast\"><span></span></div>');\r\n        jquery(\"body\").append(msgTag);\r\n        msgTag.fadeIn(\"slow\").find(\"span\").html(msg);\r\n        setTimeout(function () {\r\n            msgTag.fadeOut(800, function () {\r\n                console.log(\"移除： \" + id);\r\n                msgTag.remove();\r\n            });\r\n        }, 1200);\r\n    };\r\n    Utils.copy = function (value) {\r\n        var textarea = document.getElementById(\"oInput\");\r\n        if (!textarea) {\r\n            textarea = document.createElement(\"textarea\");\r\n            document.body.appendChild(textarea);\r\n            textarea.id = 'oInput';\r\n            textarea.readOnly = 'readonly';\r\n            textarea.position = \"absolute\";\r\n        }\r\n        textarea.value = value + \"\";\r\n        textarea.select();\r\n        document.execCommand(\"copy\");\r\n        document.body.removeChild(textarea);\r\n    };\r\n    Utils.download = function (saveStr, fileName, type) {\r\n        if (type === void 0) { type = \"text\"; }\r\n        var element = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\");\r\n        var ev = document.createEvent(\"MouseEvents\");\r\n        var urlObject = window.URL || window.webkitURL || window;\r\n        var export_blob = new Blob([saveStr], { type: type });\r\n        element.href = urlObject.createObjectURL(export_blob);\r\n        element.download = fileName;\r\n        ev.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n        element.dispatchEvent(ev);\r\n        urlObject.revokeObjectURL(element.href);\r\n        element.href = '';\r\n    };\r\n    /**\r\n     * 获取时间信息\r\n     * @param {*} format\r\n     * @returns\r\n     */\r\n    Utils.getDateStr = function (format) {\r\n        format = format ? format : \"yyyy-MM-dd hh:mm:ss\";\r\n        var date = new Date();\r\n        var dateReg = {\r\n            \"M+\": date.getMonth() + 1,\r\n            \"d+\": date.getDate(),\r\n            \"h+\": date.getHours(),\r\n            \"m+\": date.getMinutes(),\r\n            \"s+\": date.getSeconds(),\r\n            \"q+\": Math.floor((date.getMonth() + 3) / 3),\r\n            \"S+\": date.getMilliseconds()\r\n        };\r\n        if (/(y+)/i.test(format)) {\r\n            format = format.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n        }\r\n        for (var k in dateReg) {\r\n            if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n                format = format.replace(RegExp.$1, RegExp.$1.length == 1\r\n                    ? dateReg[k] : (\"00\" + dateReg[k]).substr((\"\" + dateReg[k]).length));\r\n            }\r\n        }\r\n        return format;\r\n    };\r\n    /**\r\n     * 拷贝一个对象到另一个对象（如果toObj为空则会新生成一个对象）上\r\n     * @param originObj\r\n     * @param toObj\r\n     * @returns\r\n     */\r\n    Utils.copyObj = function (originObj, toObj, notCopyFun) {\r\n        if (!originObj)\r\n            return;\r\n        toObj = toObj || {};\r\n        for (var key in originObj) {\r\n            if (notCopyFun) {\r\n                if (typeof originObj[key] == \"function\")\r\n                    continue;\r\n            }\r\n            toObj[key] = originObj[key];\r\n        }\r\n        return toObj;\r\n    };\r\n    Utils._uid = 0;\r\n    /**防止cocos 把console.log 重写了 */\r\n    Utils.ConsoleLogFun = console.log;\r\n    Utils._totastId = 0;\r\n    return Utils;\r\n}());\r\nexports.Utils = Utils;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Cocos2dxEngineInfo = void 0;\r\nvar Cocos2dxStageMask_1 = require(\"./Cocos2dxStageMask\");\r\nvar Cocos2dxEngineInfo = /** @class */ (function () {\r\n    function Cocos2dxEngineInfo() {\r\n        this.name = \"Cocos2dx\";\r\n    }\r\n    // private _stage: cc.BaseNode;\r\n    Cocos2dxEngineInfo.prototype.haveEngine = function () {\r\n        return !!(window[\"cc\"] && window[\"CocosEngine\"] && window[\"cc\"][\"director\"] && this.stage);\r\n    };\r\n    Cocos2dxEngineInfo.prototype.init = function () {\r\n        var s = this;\r\n        s.version = window[\"CocosEngine\"];\r\n        s.baseCls = cc[\"BaseNode\"] || cc[\"_BaseNode\"] || cc[\"Node\"]; //\r\n        s._mask = new Cocos2dxStageMask_1.Cocos2dxStageMask(s);\r\n    };\r\n    Object.defineProperty(Cocos2dxEngineInfo.prototype, \"stage\", {\r\n        get: function () {\r\n            var scene;\r\n            if (window[\"cc\"] && window[\"cc\"][\"director\"] && window[\"cc\"][\"director\"][\"_scenesStack\"]) {\r\n                scene = window[\"cc\"][\"director\"][\"_scenesStack\"][0];\r\n            }\r\n            return scene;\r\n        },\r\n        set: function (value) {\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Cocos2dxEngineInfo.prototype.start = function (onClickFun, onMouseMoveFun) {\r\n    };\r\n    Cocos2dxEngineInfo.prototype.getChildren = function (obj) {\r\n        return obj.children;\r\n    };\r\n    Cocos2dxEngineInfo.prototype.getParent = function (obj) {\r\n        return obj.parent;\r\n    };\r\n    Cocos2dxEngineInfo.prototype.drawMask = function (obj) {\r\n        if (this._mask)\r\n            this._mask.showRect(obj);\r\n    };\r\n    Cocos2dxEngineInfo.prototype.clearMask = function () {\r\n        if (this._mask)\r\n            this._mask.clear();\r\n    };\r\n    Cocos2dxEngineInfo.prototype.refushMask = function () {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.refush();\r\n    };\r\n    // getPropNames(obj: cc.BaseNode): string[] {\r\n    //    return [];\r\n    // }\r\n    // getTreeNode(obj: cc.BaseNode): TreeNode {\r\n    //     return EngineManager.getTreeNode(this, obj);\r\n    // }\r\n    // getProps(obj: cc.BaseNode, showPrivate?: boolean, showFunction?: boolean): { [name: string]: PropNode; } {\r\n    //     return EngineManager.getPropNodes(this, obj, showPrivate, showFunction)\r\n    // }\r\n    Cocos2dxEngineInfo.prototype.canUse = function (obj) {\r\n        return obj && obj.isValid /*有可能为null**/ != false;\r\n    };\r\n    Cocos2dxEngineInfo.prototype.getObjName = function (obj) {\r\n        return obj.name;\r\n    };\r\n    Cocos2dxEngineInfo.prototype.getVisible = function (obj) {\r\n        return obj.active;\r\n    };\r\n    Cocos2dxEngineInfo.prototype.setMouseEnable = function (value) {\r\n    };\r\n    Cocos2dxEngineInfo.prototype.setVisible = function (obj, value) {\r\n        obj.active = value;\r\n    };\r\n    Cocos2dxEngineInfo.prototype.showFPS = function (value) {\r\n    };\r\n    return Cocos2dxEngineInfo;\r\n}());\r\nexports.Cocos2dxEngineInfo = Cocos2dxEngineInfo;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Cocos2dxStageMask = void 0;\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\nvar Cocos2dxStageMask = /** @class */ (function () {\r\n    function Cocos2dxStageMask(engine) {\r\n        var s = this;\r\n        s._engine = engine;\r\n        if (!cc[\"DrawNode\"])\r\n            return;\r\n        s._mask = new cc[\"DrawNode\"]();\r\n        s._mask.name = ConstVars_1.ConstVars.StageMaskName;\r\n    }\r\n    Cocos2dxStageMask.prototype.showRect = function (obj) {\r\n        var s = this;\r\n        s._bindObj = obj;\r\n        var w = Math.max(obj.width, 20);\r\n        var h = Math.max(obj.height, 20);\r\n        var pos = obj.convertToWorldSpace();\r\n        var stage = s._engine.stage;\r\n        w = w * obj.scaleX;\r\n        h = h * obj.scaleY;\r\n        if (s._mask) {\r\n            s._mask.clear();\r\n            s._mask.removeFromParent();\r\n        }\r\n        s._mask.drawRect(cc[\"p\"](pos.x - w * obj.anchorX, pos.y - h * obj.anchorY), cc[\"p\"](w, h), new cc[\"Color\"](0, 200, 0, 55), 1, new cc[\"Color\"](0, 200, 0, 235));\r\n        stage.addChild(s._mask);\r\n    };\r\n    Cocos2dxStageMask.prototype.refush = function () {\r\n        var s = this;\r\n        //todo refush\r\n        // s._bindObj = obj;\r\n        // let w:number = Math.max(obj.width, 20);\r\n        // let h:number = Math.max(obj.height, 20);\r\n        // let pos:{x:number, y:number} = obj.convertToWorldSpace();\r\n        // let stage = s._engine.stage;\r\n        // w = w*obj.scaleX;\r\n        // h = h*obj.scaleY;\r\n        // if(s._mask){\r\n        //     s._mask.clear();\r\n        //     s._mask.removeFromParent();\r\n        // }\r\n        // s._mask.drawRect(cc[\"p\"](pos.x-w*obj.anchorX, pos.y-h*obj.anchorY), cc[\"p\"](w, h), new cc[\"Color\"](0, 200, 0, 55), 1, new cc[\"Color\"](0, 200, 0, 235));\r\n    };\r\n    Cocos2dxStageMask.prototype.handleActiviteChange = function (e) {\r\n        var s = this;\r\n        if (!s._bindObj)\r\n            return;\r\n        if (!s._bindObj.activeInHierarchy) {\r\n            s.clear();\r\n        }\r\n    };\r\n    Cocos2dxStageMask.prototype.clear = function () {\r\n        var s = this;\r\n        if (s._bindObj) {\r\n            s._bindObj = null;\r\n        }\r\n        if (s._mask && s._mask[\"getComponent\"]) {\r\n            var graphics = s._mask.getComponent(cc.Graphics);\r\n            graphics.clear();\r\n        }\r\n        if (s._mask)\r\n            s._mask.removeFromParent();\r\n    };\r\n    return Cocos2dxStageMask;\r\n}());\r\nexports.Cocos2dxStageMask = Cocos2dxStageMask;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CocosCreatorEngineInfo = void 0;\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\nvar Utils_1 = require(\"../../common/Utils\");\r\nvar CocosCreatorMouseEvent_1 = require(\"./CocosCreatorMouseEvent\");\r\nvar CocosCreatorStageMask_1 = require(\"./CocosCreatorStageMask\");\r\nvar CocosCreatorEngineInfo = /** @class */ (function () {\r\n    function CocosCreatorEngineInfo() {\r\n        this.name = \"CocosCreator\";\r\n    }\r\n    // private _stage: cc.BaseNode;\r\n    CocosCreatorEngineInfo.prototype.haveEngine = function () {\r\n        return !!(window[\"cc\"] && window[\"CocosEngine\"] && window[\"cc\"][\"director\"] && this.stage);\r\n    };\r\n    CocosCreatorEngineInfo.prototype.init = function () {\r\n        var s = this;\r\n        s.version = window[\"CocosEngine\"];\r\n        s.baseCls = cc[\"BaseNode\"] || cc[\"_BaseNode\"] || cc[\"Node\"]; //\r\n        s._mask = new CocosCreatorStageMask_1.CocosCreatorStageMask(s);\r\n        var obj = window[\"cc\"];\r\n        if (obj) {\r\n            for (var key in obj) {\r\n                if (obj[key] && obj[key][\"prototype\"])\r\n                    obj[key][\"prototype\"][ConstVars_1.ConstVars.GAMEINSPECT_CLASS_KEY] = key;\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(CocosCreatorEngineInfo.prototype, \"stage\", {\r\n        get: function () {\r\n            var scene;\r\n            if (window[\"cc\"] && window[\"cc\"][\"director\"] && window[\"cc\"][\"director\"].getScene) {\r\n                scene = window[\"cc\"][\"director\"].getScene();\r\n            }\r\n            return scene;\r\n        },\r\n        set: function (value) {\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CocosCreatorEngineInfo.prototype.start = function (onClickFun, onMouseMoveFun) {\r\n        var s = this;\r\n        CocosCreatorMouseEvent_1.CocosCreatorMouseEvent.start(s);\r\n        cc.director.on(CocosCreatorMouseEvent_1.CocosCreatorMouseEvent.MOUSE_DOWN, function (target) {\r\n            onClickFun.call(s, target);\r\n        }, s);\r\n        cc.director.on(CocosCreatorMouseEvent_1.CocosCreatorMouseEvent.MOUSE_MOVE, function (target) {\r\n            onMouseMoveFun.call(s, target);\r\n        }, s);\r\n    };\r\n    CocosCreatorEngineInfo.prototype.getChildren = function (obj) {\r\n        return obj.children;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.getParent = function (obj) {\r\n        return obj.parent;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.drawMask = function (obj) {\r\n        if (this._mask)\r\n            this._mask.showRect(obj);\r\n    };\r\n    CocosCreatorEngineInfo.prototype.clearMask = function () {\r\n        if (this._mask)\r\n            this._mask.clear();\r\n    };\r\n    CocosCreatorEngineInfo.prototype.refushMask = function () {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.refush();\r\n    };\r\n    CocosCreatorEngineInfo.prototype.canUse = function (obj) {\r\n        return obj && obj.isValid /*有可能为null**/ != false;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.getObjName = function (obj) {\r\n        return obj.name;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.getVisible = function (obj) {\r\n        return obj.activeInHierarchy;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.setMouseEnable = function (value) {\r\n        CocosCreatorMouseEvent_1.CocosCreatorMouseEvent.enableMouseEvent = value;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.setVisible = function (obj, value) {\r\n        obj.active = value;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.showFPS = function (value) {\r\n    };\r\n    CocosCreatorEngineInfo.prototype.modifyPropNode = function (obj, propName, prop) {\r\n        var propObj = obj[propName];\r\n        if (propObj instanceof cc.Color) {\r\n            prop.valueExtParam = { r: propObj.r, g: propObj.g, b: propObj.b, a: propObj.a };\r\n        }\r\n        return prop;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.getAddPropNode = function (obj) {\r\n        var result = [];\r\n        var components = obj[\"_components\"];\r\n        if (components && components.length > 0) {\r\n            for (var i = 0; i < components.length; i++) {\r\n                var comp = components[i];\r\n                var node = {\r\n                    aliasName: \"[Component]\",\r\n                    name: \"_components.\" + i,\r\n                    value: Utils_1.Utils.getClassName(comp),\r\n                    type: \"object\",\r\n                    expandable: true,\r\n                    isGetter: true,\r\n                    isSetter: false,\r\n                    isPrivate: false,\r\n                };\r\n                result.push(node);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    CocosCreatorEngineInfo.prototype.getClassName = function (obj) {\r\n        if (typeof obj == \"number\" || typeof obj == \"string\")\r\n            return obj;\r\n        var s = this;\r\n        var name = Utils_1.Utils.getClassName(obj);\r\n        var components = obj[\"_components\"];\r\n        if (components && components.length > 0) {\r\n            var compNames = [];\r\n            for (var i = 0; i < components.length; i++) {\r\n                var comp = components[i];\r\n                compNames.push(Utils_1.Utils.getClassName(comp));\r\n            }\r\n            name += ConstVars_1.ConstVars.SPECIAL_NAME_START + compNames.join(\",\") + ConstVars_1.ConstVars.SPECIAL_NAME_END;\r\n        }\r\n        return name;\r\n    };\r\n    return CocosCreatorEngineInfo;\r\n}());\r\nexports.CocosCreatorEngineInfo = CocosCreatorEngineInfo;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CocosCreatorMouseEvent = void 0;\r\nvar CocosCreator2XMouseEvent_1 = require(\"./version2X/CocosCreator2XMouseEvent\");\r\nvar CocosCreator3XMouseEvent_1 = require(\"./version3X/CocosCreator3XMouseEvent\");\r\nvar CocosCreatorMouseEvent = /** @class */ (function () {\r\n    function CocosCreatorMouseEvent() {\r\n    }\r\n    CocosCreatorMouseEvent.start = function (engine) {\r\n        var s = this;\r\n        s._engine = engine;\r\n        s.MOUSE_MOVE = CocosCreatorMouseEvent.EventPreName + cc.Node.EventType.MOUSE_MOVE;\r\n        s.MOUSE_DOWN = CocosCreatorMouseEvent.EventPreName + cc.Node.EventType.MOUSE_DOWN;\r\n        if (s._engine.version.startsWith(\"2.\") || s._engine.version.startsWith(\"1.\")) {\r\n            s._adapterMouseEvent = new CocosCreator2XMouseEvent_1.CocosCreator2XMouseEvent(s._engine);\r\n        }\r\n        else {\r\n            s._adapterMouseEvent = new CocosCreator3XMouseEvent_1.CocosCreator3XMouseEvent(s._engine);\r\n        }\r\n        s._adapterMouseEvent.onMouseDown = function (pos) {\r\n            s._mouseIsDown = true;\r\n            s._curMouseMoveTime = Date.now();\r\n            var target = s._adapterMouseEvent.findTarget(pos);\r\n            cc.director.emit(s.MOUSE_DOWN, target);\r\n        };\r\n        s._adapterMouseEvent.onMouseMove = function (pos) {\r\n            if (!s._mouseIsDown)\r\n                return;\r\n            var now = Date.now();\r\n            if (now - s._curMouseMoveTime < s._mouseMoveTime)\r\n                return;\r\n            s._curMouseMoveTime = now;\r\n            var target = s._adapterMouseEvent.findTarget(pos);\r\n            cc.director.emit(s.MOUSE_MOVE, target);\r\n        };\r\n        s._adapterMouseEvent.onMouseUp = function () {\r\n            s._mouseIsDown = false;\r\n        };\r\n    };\r\n    Object.defineProperty(CocosCreatorMouseEvent, \"enableMouseEvent\", {\r\n        get: function () {\r\n            return this._enableMouseEvent;\r\n        },\r\n        set: function (value) {\r\n            var s = this;\r\n            s._adapterMouseEvent.setEnableEvent(value);\r\n            s._enableMouseEvent = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CocosCreatorMouseEvent.EventPreName = \"cocosCreatorInspactEvent_\";\r\n    CocosCreatorMouseEvent._enableMouseEvent = true;\r\n    CocosCreatorMouseEvent._mouseMoveTime = 500;\r\n    CocosCreatorMouseEvent._curMouseMoveTime = 0;\r\n    CocosCreatorMouseEvent._mouseIsDown = false;\r\n    return CocosCreatorMouseEvent;\r\n}());\r\nexports.CocosCreatorMouseEvent = CocosCreatorMouseEvent;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CocosCreatorStageMask = void 0;\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\nvar CocosCreator2XDraw_1 = require(\"./version2X/CocosCreator2XDraw\");\r\nvar CocosCreator3XDraw_1 = require(\"./version3X/CocosCreator3XDraw\");\r\nvar CocosCreatorStageMask = /** @class */ (function () {\r\n    function CocosCreatorStageMask(engine) {\r\n        var s = this;\r\n        s._engine = engine;\r\n        s._mask = new cc.Node();\r\n        s._mask.name = ConstVars_1.ConstVars.StageMaskName;\r\n        if (s._engine.version.startsWith(\"2.\") || s._engine.version.startsWith(\"1.\")) {\r\n            s._drawAdapter = new CocosCreator2XDraw_1.CocosCreator2XDraw(s._engine);\r\n        }\r\n        else {\r\n            s._drawAdapter = new CocosCreator3XDraw_1.CocosCreator3XDraw(s._engine);\r\n        }\r\n        s._mask.addComponent(s._drawAdapter.getGraphicsComponentCls());\r\n    }\r\n    CocosCreatorStageMask.prototype.resetMask = function () {\r\n        var s = this;\r\n        s._mask = new cc.Node();\r\n        s._mask.name = ConstVars_1.ConstVars.StageMaskName;\r\n        s._mask.addComponent(s._drawAdapter.getGraphicsComponentCls());\r\n    };\r\n    CocosCreatorStageMask.prototype.showRect = function (obj) {\r\n        var s = this;\r\n        s._bindObj = obj;\r\n        if (!s._bindObj) {\r\n            s.clear();\r\n            return;\r\n        }\r\n        if (s._bindObj) {\r\n            s._bindObj.on('active-in-hierarchy-changed', s.handleActiviteChange, s);\r\n        }\r\n        // if(s._mask.parent){\r\n        //     s._mask.parent.removeChild(s._mask)\r\n        // }\r\n        // s._mask.removeFromParent();\r\n        var stage = s._drawAdapter.getMaskParent();\r\n        try {\r\n            stage.addChild(s._mask);\r\n        }\r\n        catch (e) {\r\n            s._mask.parent = stage;\r\n        }\r\n        s.refush();\r\n    };\r\n    CocosCreatorStageMask.prototype.refush = function () {\r\n        var s = this;\r\n        var obj = s._bindObj;\r\n        var drawCls = s._drawAdapter.getGraphicsComponentCls();\r\n        if (!s._mask[\"_components\"]) {\r\n            s.resetMask();\r\n        }\r\n        var graphics = s._mask.getComponent(drawCls);\r\n        if (!obj) {\r\n            s.clear();\r\n            return;\r\n        }\r\n        var rect = s._drawAdapter.getDrawPositionInfo(obj);\r\n        if (rect.width <= 0 || rect.height <= 0) {\r\n            s.clear();\r\n            return;\r\n        }\r\n        graphics.clear();\r\n        graphics.lineWidth = 1;\r\n        graphics.strokeColor.fromHEX(\"#00C800ee\");\r\n        graphics.fillColor.fromHEX(\"#00C80022\"); //\r\n        graphics.fillRect(rect.x, rect.y, rect.width, rect.height);\r\n        graphics.close();\r\n        graphics.stroke();\r\n        graphics.fill();\r\n    };\r\n    CocosCreatorStageMask.prototype.handleActiviteChange = function () {\r\n        var s = this;\r\n        if (!s._bindObj)\r\n            return;\r\n        if (!s._bindObj.activeInHierarchy) {\r\n            s.clear();\r\n        }\r\n    };\r\n    CocosCreatorStageMask.prototype.clear = function () {\r\n        var s = this;\r\n        if (s._bindObj) {\r\n            s._bindObj.off('active-in-hierarchy-changed', s.handleActiviteChange, s);\r\n            s._bindObj = null;\r\n        }\r\n        if (s._mask[\"_components\"]) {\r\n            var graphics = s._mask.getComponent(s._drawAdapter.getGraphicsComponentCls());\r\n            graphics.clear();\r\n        }\r\n        s._mask.removeFromParent();\r\n    };\r\n    return CocosCreatorStageMask;\r\n}());\r\nexports.CocosCreatorStageMask = CocosCreatorStageMask;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CocosCreator2XDraw = void 0;\r\nvar CocosCreator2XDraw = /** @class */ (function () {\r\n    function CocosCreator2XDraw(engine) {\r\n        var s = this;\r\n        s._tempV3 = new cc.Vec3();\r\n        s._rect = new cc.Rect();\r\n        s._engine = engine;\r\n    }\r\n    CocosCreator2XDraw.prototype.getGraphicsComponentCls = function () {\r\n        return cc.Graphics;\r\n    };\r\n    CocosCreator2XDraw.prototype.getDrawPositionInfo = function (obj) {\r\n        var s = this;\r\n        if (!obj) {\r\n            s._rect.x = s._rect.y = s._rect.width = s._rect.height = 0;\r\n            return s._rect;\r\n        }\r\n        var position = obj[\"convertToWorldSpace\"](s._tempV3);\r\n        var scaleX = obj[\"scaleX\"];\r\n        var scaleY = obj[\"scaleY\"];\r\n        s._rect.x = position.x;\r\n        s._rect.y = position.y;\r\n        s._rect.width = obj[\"width\"] || 0;\r\n        s._rect.height = obj[\"height\"] || 0;\r\n        s._rect.width *= scaleX;\r\n        s._rect.height *= scaleY;\r\n        s._rect.width = Math.max(20, s._rect.width);\r\n        s._rect.height = Math.max(20, s._rect.height);\r\n        return s._rect;\r\n    };\r\n    CocosCreator2XDraw.prototype.getMaskParent = function () {\r\n        return this._engine.stage;\r\n    };\r\n    return CocosCreator2XDraw;\r\n}());\r\nexports.CocosCreator2XDraw = CocosCreator2XDraw;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CocosCreator2XMouseEvent = void 0;\r\nvar ConstVars_1 = require(\"../../../common/ConstVars\");\r\nvar Utils_1 = require(\"../../../common/Utils\");\r\nvar CocosCreator2XMouseEvent = /** @class */ (function () {\r\n    function CocosCreator2XMouseEvent(engine) {\r\n        this.enableMouseEvent = true;\r\n        var s = this;\r\n        s._engine = engine;\r\n        if (cc[\"internal\"] && cc[\"internal\"][\"inputManager\"]) { /**适用于 v2.4.6 */\r\n            var inputMgr_1 = cc[\"internal\"][\"inputManager\"];\r\n            var oldTouchBegin_1 = inputMgr_1.handleTouchesBegin;\r\n            var oldTouchMove_1 = inputMgr_1.handleTouchesMove;\r\n            var oldTouchEnd_1 = inputMgr_1.handleTouchesEnd;\r\n            inputMgr_1.handleTouchesBegin = function () {\r\n                var touch = arguments[0][0];\r\n                if (touch) {\r\n                    var pos = touch.getLocation();\r\n                    var glView = this._glView;\r\n                    var newPos = pos.clone();\r\n                    newPos.x = (newPos.x - glView._viewportRect.x) / glView._scaleX;\r\n                    newPos.y = (newPos.y - glView._viewportRect.y) / glView._scaleY;\r\n                    s.onMouseDown(newPos);\r\n                }\r\n                if (!s.enableMouseEvent)\r\n                    return;\r\n                oldTouchBegin_1.apply(inputMgr_1, arguments);\r\n            };\r\n            inputMgr_1.handleTouchesMove = function () {\r\n                var touch = arguments[0][0];\r\n                if (touch) {\r\n                    var pos = touch.getLocation();\r\n                    var glView = this._glView;\r\n                    var newPos = pos.clone();\r\n                    newPos.x = (newPos.x - glView._viewportRect.x) / glView._scaleX;\r\n                    newPos.y = (newPos.y - glView._viewportRect.y) / glView._scaleY;\r\n                    s.onMouseMove(newPos);\r\n                }\r\n                if (!s.enableMouseEvent)\r\n                    return;\r\n                oldTouchMove_1.apply(inputMgr_1, arguments);\r\n            };\r\n            inputMgr_1.handleTouchesEnd = function () {\r\n                s.onMouseUp();\r\n                if (!s.enableMouseEvent)\r\n                    return;\r\n                oldTouchEnd_1.apply(inputMgr_1, arguments);\r\n            };\r\n        }\r\n        else {\r\n            Utils_1.Utils.log(\"该版本不支持鼠标事件, 如需添加支持请加群： \" + ConstVars_1.ConstVars.QQ);\r\n        }\r\n    }\r\n    CocosCreator2XMouseEvent.prototype.findTarget = function (pos) {\r\n        var s = this;\r\n        s._target = null;\r\n        s.check(s._engine.stage, pos);\r\n        return s._target;\r\n    };\r\n    CocosCreator2XMouseEvent.prototype.setEnableEvent = function (value) {\r\n        this.enableMouseEvent = value;\r\n    };\r\n    CocosCreator2XMouseEvent.prototype.check = function (sp, pos) {\r\n        var s = this;\r\n        if (!sp)\r\n            return false;\r\n        if (s._target)\r\n            return true;\r\n        var children = s._engine.getChildren(sp);\r\n        if (children && children.length > 0) {\r\n            for (var i = children.length - 1; i > -1; i--) {\r\n                if (s._target)\r\n                    return true;\r\n                var child = children[i];\r\n                s.check(child, pos);\r\n                if (s._target)\r\n                    return true;\r\n            }\r\n        }\r\n        else {\r\n            if (s.checkHaveComponet(sp) && s._hitTest(sp, pos)) {\r\n                s._target = sp;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    CocosCreator2XMouseEvent.prototype.checkHaveComponet = function (obj) {\r\n        var s = this;\r\n        if (!obj)\r\n            return false;\r\n        var components = obj[\"_components\"];\r\n        if (!components || components.length == 0)\r\n            return false;\r\n        var hasRender = false;\r\n        for (var i = 0; i < components.length; i++) {\r\n            var comp = components[i];\r\n            if (!comp)\r\n                continue;\r\n            if (comp instanceof cc.Camera || comp instanceof cc.Canvas)\r\n                return false;\r\n            if (comp instanceof cc.RenderComponent && !(comp instanceof cc.Mask))\r\n                hasRender = true;\r\n        }\r\n        return hasRender;\r\n    };\r\n    CocosCreator2XMouseEvent.prototype._hitTest = function (node, pos) {\r\n        var s = this;\r\n        if (!node || !node.isValid || !s._engine.getVisible(node) || node.name == ConstVars_1.ConstVars.StageMaskName)\r\n            return false;\r\n        if (node[\"_hitTest\"])\r\n            return node[\"_hitTest\"](pos, node); /***version 2.4.6 */\r\n        return false;\r\n    };\r\n    return CocosCreator2XMouseEvent;\r\n}());\r\nexports.CocosCreator2XMouseEvent = CocosCreator2XMouseEvent;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CocosCreator3XDraw = void 0;\r\nvar CocosCreator3XDraw = /** @class */ (function () {\r\n    function CocosCreator3XDraw(engine) {\r\n        var s = this;\r\n        s._rect = new cc.Rect();\r\n        s._engine = engine;\r\n    }\r\n    CocosCreator3XDraw.prototype.getGraphicsComponentCls = function () {\r\n        return cc.GraphicsComponent;\r\n    };\r\n    CocosCreator3XDraw.prototype.getDrawPositionInfo = function (obj) {\r\n        var s = this;\r\n        if (!obj) {\r\n            s._rect.x = s._rect.y = s._rect.width = s._rect.height = 0;\r\n            return s._rect;\r\n        }\r\n        var tran = obj.getComponent(cc.UITransformComponent);\r\n        if (!tran) {\r\n            s._rect.x = s._rect.y = s._rect.width = s._rect.height = 0;\r\n            return s._rect;\r\n        }\r\n        var scaleX = 1;\r\n        var scaleY = 1;\r\n        var position = obj[\"worldPosition\"];\r\n        s._rect.x = position.x;\r\n        s._rect.y = position.y;\r\n        var scale = obj[\"worldScale\"];\r\n        if (scale) {\r\n            scaleX = scale.x;\r\n            scaleY = scale.y;\r\n        }\r\n        s._rect.width = tran[\"width\"] || 0;\r\n        s._rect.height = tran[\"height\"] || 0;\r\n        var winSize = cc[\"winSize\"];\r\n        if (winSize) {\r\n            s._rect.x -= winSize.width / 2;\r\n            s._rect.y -= winSize.height / 2;\r\n        }\r\n        s._rect.x -= s._rect.width * (tran[\"anchorX\"] || 0);\r\n        s._rect.y -= s._rect.height * (tran[\"anchorY\"] || 0);\r\n        return s._rect;\r\n    };\r\n    CocosCreator3XDraw.prototype.getMaskParent = function () {\r\n        var s = this;\r\n        var stage = s._engine.stage;\r\n        var children = stage.children;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var child = children[i];\r\n            if (child.getComponent(cc.Canvas)) {\r\n                return child;\r\n            }\r\n        }\r\n        return stage;\r\n    };\r\n    return CocosCreator3XDraw;\r\n}());\r\nexports.CocosCreator3XDraw = CocosCreator3XDraw;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CocosCreator3XMouseEvent = void 0;\r\nvar Utils_1 = require(\"../../../common/Utils\");\r\nvar ConstVars_1 = require(\"../../../common/ConstVars\");\r\nvar CocosCreator3XMouseEvent = /** @class */ (function () {\r\n    function CocosCreator3XMouseEvent(engine) {\r\n        this.enableMouseEvent = true;\r\n        var s = this;\r\n        s._engine = engine;\r\n        var canvas = cc.game.canvas;\r\n        if (!canvas) {\r\n            Utils_1.Utils.log(\"Game Inpsce 对 Cocos Create 的鼠标处理 没有找到 对应的Canvas\");\r\n            return;\r\n        }\r\n        canvas.addEventListener('mousedown', function (e) {\r\n            var pos = _getLocation(e);\r\n            s.onMouseDown(pos);\r\n            if (!s.enableMouseEvent)\r\n                e.stopImmediatePropagation();\r\n        });\r\n        canvas.addEventListener('mousemove', function (e) {\r\n            var pos = _getLocation(e);\r\n            s.onMouseMove(pos);\r\n            if (!s.enableMouseEvent)\r\n                e.stopImmediatePropagation();\r\n        });\r\n        window.addEventListener('mouseup', function (e) {\r\n            s.onMouseUp();\r\n            if (!s.enableMouseEvent)\r\n                e.stopImmediatePropagation();\r\n        });\r\n        function _getCanvasRect() {\r\n            var box = canvas === null || canvas === void 0 ? void 0 : canvas.getBoundingClientRect();\r\n            if (box) {\r\n                return new cc.Rect(box.x, box.y, box.width, box.height);\r\n            }\r\n            return new cc.Rect(0, 0, 0, 0);\r\n        }\r\n        function _getLocation(mouseEvent) {\r\n            var canvasRect = _getCanvasRect();\r\n            var dpr = window.devicePixelRatio;\r\n            var x = mouseEvent.clientX - canvasRect.x;\r\n            var y = canvasRect.y + canvasRect.height - mouseEvent.clientY;\r\n            x *= dpr;\r\n            y *= dpr;\r\n            var mousePos = new cc.Vec2(x, y); //获取到点击的位置\r\n            cc.view[\"_convertToUISpace\"](mousePos); //模拟 event.getUILocation 获取UI界面内的坐标\r\n            return mousePos;\r\n        }\r\n    }\r\n    CocosCreator3XMouseEvent.prototype.findTarget = function (pos) {\r\n        var s = this;\r\n        s._target = null;\r\n        s.check(s._engine.stage, pos);\r\n        return s._target;\r\n    };\r\n    CocosCreator3XMouseEvent.prototype.setEnableEvent = function (value) {\r\n        this.enableMouseEvent = value;\r\n    };\r\n    CocosCreator3XMouseEvent.prototype.check = function (sp, pos) {\r\n        var s = this;\r\n        if (s._target)\r\n            return true;\r\n        if (!sp)\r\n            return false;\r\n        var children = s._engine.getChildren(sp);\r\n        if (children && children.length > 0) {\r\n            for (var i = children.length - 1; i > -1; i--) {\r\n                if (s._target)\r\n                    return true;\r\n                var child = children[i];\r\n                s.check(child, pos);\r\n                if (s._target)\r\n                    return true;\r\n            }\r\n        }\r\n        else {\r\n            if (s.checkHaveComponet(sp) && s._hitTest(sp, pos)) {\r\n                s._target = sp;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    CocosCreator3XMouseEvent.prototype.checkHaveComponet = function (obj) {\r\n        var s = this;\r\n        if (!obj)\r\n            return false;\r\n        var components = obj[\"_components\"];\r\n        if (!components || components.length == 0)\r\n            return false;\r\n        var hasRender = false;\r\n        for (var i = 0; i < components.length; i++) {\r\n            var comp = components[i];\r\n            if (!comp)\r\n                continue;\r\n            if (comp instanceof cc.Camera || comp instanceof cc.Canvas)\r\n                return false;\r\n            if (comp instanceof cc.RenderableComponent && !(comp instanceof cc.Mask))\r\n                hasRender = true;\r\n        }\r\n        return hasRender;\r\n    };\r\n    CocosCreator3XMouseEvent.prototype._hitTest = function (node, pos) {\r\n        var s = this;\r\n        if (!node || !node.isValid || !s._engine.getVisible(node) || node.name == ConstVars_1.ConstVars.StageMaskName)\r\n            return false;\r\n        var tran = node.getComponent(cc.UITransformComponent);\r\n        if (tran) {\r\n            return tran.isHit(pos);\r\n        }\r\n        return false;\r\n    };\r\n    return CocosCreator3XMouseEvent;\r\n}());\r\nexports.CocosCreator3XMouseEvent = CocosCreator3XMouseEvent;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EgretEngineInfo = void 0;\r\nvar EgretMouseEvent_1 = require(\"./EgretMouseEvent\");\r\nvar EgretStageRectMask_1 = require(\"./EgretStageRectMask\");\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\nvar EgretEngineInfo = /** @class */ (function () {\r\n    function EgretEngineInfo() {\r\n        this.name = \"Egret\";\r\n    }\r\n    EgretEngineInfo.prototype.haveEngine = function () {\r\n        return !!(window[\"egret\"] && window[\"egret\"][\"sys\"] && window[\"egret\"][\"sys\"][\"$TempStage\"]);\r\n    };\r\n    EgretEngineInfo.prototype.init = function () {\r\n        var s = this;\r\n        s.version = egret.Capabilities.engineVersion;\r\n        s.baseCls = egret.DisplayObject;\r\n        s.stage = egret.sys.$TempStage;\r\n        s._mask = new EgretStageRectMask_1.EgretStageRectMask();\r\n        var obj = window[\"egret\"];\r\n        for (var key in obj) {\r\n            if (obj[key] && obj[key][\"prototype\"])\r\n                obj[key][\"prototype\"][ConstVars_1.ConstVars.GAMEINSPECT_CLASS_KEY] = key;\r\n        }\r\n    };\r\n    EgretEngineInfo.prototype.start = function (onClickFun, onMouseMoveFun) {\r\n        var s = this;\r\n        EgretMouseEvent_1.EgretMouseEvent.start();\r\n        var stage = egret.sys.$TempStage;\r\n        stage.addEventListener(EgretMouseEvent_1.EgretMouseEvent.MOUSE_DOWN, function (e) {\r\n            onClickFun(e.data);\r\n        }, s);\r\n        stage.addEventListener(EgretMouseEvent_1.EgretMouseEvent.MOUSE_MOVE, function (e) {\r\n            onMouseMoveFun(e.data);\r\n        }, s);\r\n    };\r\n    EgretEngineInfo.prototype.setMouseEnable = function (value) {\r\n        var s = this;\r\n        EgretMouseEvent_1.EgretMouseEvent.enableMouseEvent = value;\r\n    };\r\n    EgretEngineInfo.prototype.getChildren = function (obj) {\r\n        return obj.$children || [];\r\n    };\r\n    EgretEngineInfo.prototype.getParent = function (obj) {\r\n        return obj.parent;\r\n    };\r\n    EgretEngineInfo.prototype.drawMask = function (obj) {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.showRect(obj);\r\n    };\r\n    EgretEngineInfo.prototype.refushMask = function () {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.refush();\r\n    };\r\n    EgretEngineInfo.prototype.clearMask = function () {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.clear();\r\n    };\r\n    // getPropNames(obj: egret.DisplayObject): string[] {\r\n    //     return [];\r\n    // }\r\n    EgretEngineInfo.prototype.getNotShowPropNames = function (obj) {\r\n        if (obj == this.stage) {\r\n            return [\"x\", \"y\", \"alpha\", \"visible\", \"scaleX\", \"scaleY\", \"rotation\", \"cacheAsBitmap\", \"scrollRect\", \"filters\", \"blendMode\", \"touchEnabled\", \"matrix\",];\r\n        }\r\n        return null;\r\n    };\r\n    // getTreeNode(obj: egret.DisplayObject): TreeNode {\r\n    //     return EngineManager.getTreeNode(this, obj);\r\n    // }\r\n    // getProps(obj: egret.DisplayObject, showPrivate?: boolean, showFunction?: boolean): { [name: string]: PropNode; } {\r\n    //     return EngineManager.getPropNodes(this, obj, showPrivate, showFunction)\r\n    // }\r\n    EgretEngineInfo.prototype.canUse = function (obj) {\r\n        return !!obj;\r\n    };\r\n    EgretEngineInfo.prototype.getObjName = function (obj) {\r\n        return obj.name;\r\n    };\r\n    EgretEngineInfo.prototype.getVisible = function (obj) {\r\n        if (obj == this.stage)\r\n            return true;\r\n        return obj.visible;\r\n    };\r\n    EgretEngineInfo.prototype.setVisible = function (obj, value) {\r\n        obj.visible = value;\r\n        if (value && obj.alpha < 0.1)\r\n            obj.alpha = 1;\r\n    };\r\n    EgretEngineInfo.prototype.showFPS = function (value) {\r\n        var s = this;\r\n        var egret_fps_panel = document.getElementById('egret-fps-panel');\r\n        // let toShow = !egret_fps_panel || egret_fps_panel.style.visibility == \"hidden\";\r\n        if (value) {\r\n            if (!egret_fps_panel) {\r\n                var webPlayer = document.querySelectorAll(\".egret-player\")[0]['egret-player'];\r\n                if (!egret.nativeRender) {\r\n                    var option = webPlayer.playerOption;\r\n                    webPlayer.player.displayFPS(true, true, option.logFilter, option.fpsStyles);\r\n                }\r\n            }\r\n            else {\r\n                egret_fps_panel.style.visibility = \"visible\";\r\n            }\r\n        }\r\n        else if (egret_fps_panel) {\r\n            egret_fps_panel.style.visibility = \"hidden\";\r\n        }\r\n    };\r\n    return EgretEngineInfo;\r\n}());\r\nexports.EgretEngineInfo = EgretEngineInfo;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EgretMouseEvent = void 0;\r\nvar EgretMouseEvent = /** @class */ (function () {\r\n    function EgretMouseEvent() {\r\n    }\r\n    EgretMouseEvent.start = function () {\r\n        var s = this;\r\n        s._point = new egret.Point();\r\n        s._rect = new egret.Rectangle();\r\n        s._asDownEvent = egret.TouchEvent.TOUCH_BEGIN;\r\n        s.MOUSE_MOVE = EgretMouseEvent.EventPreName + egret.TouchEvent.TOUCH_MOVE;\r\n        s.MOUSE_DOWN = EgretMouseEvent.EventPreName + s._asDownEvent;\r\n        var stage = egret.sys.$TempStage;\r\n        stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN, s.handleMouseDownEvent, s);\r\n        stage.addEventListener(egret.TouchEvent.TOUCH_END, s.handleMouseUPEvent, s);\r\n        stage.addEventListener(s._asDownEvent, s.handleMouseEvent, s);\r\n        var oldSendTouchEvent = egret.TouchEvent.dispatchTouchEvent;\r\n        egret.TouchEvent.dispatchTouchEvent = function (target, type, bubbles, cancelable, stageX, stageY, touchPointID, touchDown) {\r\n            if (touchDown === void 0) { touchDown = false; }\r\n            if (!s.enableMouseEvent) {\r\n                if (type == s._asDownEvent) {\r\n                    var stage_1 = egret.sys.$TempStage;\r\n                    s.check(stage_1, stageX, stageY);\r\n                    return;\r\n                }\r\n            }\r\n            return oldSendTouchEvent.call(egret.TouchEvent, target, type, bubbles, cancelable, stageX, stageY, touchPointID, touchDown);\r\n        };\r\n    };\r\n    EgretMouseEvent.handleMouseDownEvent = function (e) {\r\n        var s = this;\r\n        s._curMouseMoveTime = Date.now();\r\n        var stage = egret.sys.$TempStage;\r\n        stage.addEventListener(egret.TouchEvent.TOUCH_MOVE, s.handleMouseMove, s);\r\n    };\r\n    EgretMouseEvent.handleMouseUPEvent = function (e) {\r\n        var s = this;\r\n        var stage = egret.sys.$TempStage;\r\n        stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE, s.handleMouseMove, s);\r\n    };\r\n    EgretMouseEvent.handleMouseMove = function (e) {\r\n        var s = this;\r\n        var now = Date.now();\r\n        if (now - s._curMouseMoveTime < s._mouseMoveTime)\r\n            return;\r\n        s._curMouseMoveTime = now;\r\n        s.handleMouseEvent(e);\r\n    };\r\n    EgretMouseEvent.handleMouseEvent = function (e) {\r\n        var s = this;\r\n        var stage = egret.sys.$TempStage;\r\n        s.check(stage, e.stageX, e.stageY);\r\n        if (s._target)\r\n            stage.dispatchEventWith(EgretMouseEvent.EventPreName + e.type, true, s._target);\r\n    };\r\n    EgretMouseEvent.check = function (sp, stageX, stageY) {\r\n        if (sp != egret.sys.$TempStage && (!sp.visible || sp.scaleX == 0 || sp.scaleY == 0)) {\r\n            return null;\r\n        }\r\n        var s = this;\r\n        var m = sp.$getInvertedConcatenatedMatrix();\r\n        if (m.a == 0 && m.b == 0 && m.c == 0 && m.d == 0) { //防止父类影响子类\r\n            return null;\r\n        }\r\n        var localX = m.a * stageX + m.c * stageY + m.tx;\r\n        var localY = m.b * stageX + m.d * stageY + m.ty;\r\n        var rect = sp.$scrollRect ? sp.$scrollRect : sp.$maskRect;\r\n        if (rect && !rect.contains(localX, localY)) {\r\n            return null;\r\n        }\r\n        if (sp.$mask && !sp.$mask.$hitTest(stageX, stageY)) {\r\n            return null;\r\n        }\r\n        var children = sp.$children;\r\n        if (children) {\r\n            var target = null;\r\n            for (var i = children.length - 1; i >= 0; i--) {\r\n                var child = children[i];\r\n                if (child.$maskedObject) {\r\n                    continue;\r\n                }\r\n                target = s.check(child, stageX, stageY);\r\n                if (target) {\r\n                    s._target = target;\r\n                    return target;\r\n                }\r\n            }\r\n            // if (target) {\r\n            //     return target;\r\n            // }\r\n        }\r\n        else {\r\n            var bounds = sp.$getContentBounds();\r\n            if (bounds.contains(localX, localY)) {\r\n                s._target = sp;\r\n                return sp;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    EgretMouseEvent.EventPreName = \"egretInspectEvent_\";\r\n    EgretMouseEvent.enableMouseEvent = true;\r\n    EgretMouseEvent._mouseMoveTime = 500;\r\n    EgretMouseEvent._curMouseMoveTime = 0;\r\n    return EgretMouseEvent;\r\n}());\r\nexports.EgretMouseEvent = EgretMouseEvent;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EgretStageRectMask = void 0;\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\n/**\r\n * 绘制舞台上区域\r\n */\r\nvar EgretStageRectMask = /** @class */ (function () {\r\n    function EgretStageRectMask() {\r\n        this._mask = new egret.Sprite();\r\n        this._rect = new egret.Rectangle();\r\n        this._tempPoint = new egret.Point();\r\n        this._mask.name = ConstVars_1.ConstVars.StageMaskName;\r\n    }\r\n    EgretStageRectMask.prototype.showRect = function (obj) {\r\n        var s = this;\r\n        if (s._bindObj) {\r\n            s._bindObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE, s.clear, s);\r\n        }\r\n        s._bindObj = obj;\r\n        s._bindObj.addEventListener(egret.Event.REMOVED_FROM_STAGE, s.clear, s);\r\n        if (!obj) {\r\n            if (s._mask.parent)\r\n                s._mask.parent.removeChild(s._mask);\r\n            return;\r\n        }\r\n        egret.sys.$TempStage.addChild(s._mask);\r\n        s.refush();\r\n    };\r\n    EgretStageRectMask.prototype.refush = function () {\r\n        var s = this;\r\n        var obj = s._bindObj;\r\n        if (!obj)\r\n            return;\r\n        var scaleX = 1;\r\n        var scaleY = 1;\r\n        if (obj != egret.sys.$TempStage) {\r\n            scaleX = obj.scaleX;\r\n            scaleY = obj.scaleY;\r\n        }\r\n        s._tempPoint.x = 0;\r\n        s._tempPoint.y = 0;\r\n        obj.localToGlobal(0, 0, s._tempPoint);\r\n        var x = s._tempPoint.x;\r\n        var y = s._tempPoint.y;\r\n        var width = Math.max(20, obj.width) * scaleX;\r\n        var height = Math.max(20, obj.height) * scaleY;\r\n        if (s._rect.x == x && s._rect.y == y && s._rect.width == width && s._rect.height == height) {\r\n            return;\r\n        }\r\n        s._rect.x = x;\r\n        s._rect.y = y;\r\n        s._rect.width = width;\r\n        s._rect.height = height;\r\n        s._mask.graphics.clear();\r\n        s._mask.graphics.lineStyle(1, 0x00C800, 0.9);\r\n        s._mask.graphics.beginFill(0x00C800, 0.2);\r\n        s._mask.graphics.drawRect(s._rect.x, s._rect.y, s._rect.width, s._rect.height);\r\n        s._mask.graphics.endFill();\r\n    };\r\n    EgretStageRectMask.prototype.clear = function () {\r\n        var s = this;\r\n        if (s._bindObj) {\r\n            s._bindObj.removeEventListener(egret.Event.REMOVED_FROM_STAGE, s.clear, s);\r\n        }\r\n        s._bindObj = null;\r\n        if (s._mask.parent)\r\n            s._mask.parent.removeChild(s._mask);\r\n        s._rect.setEmpty();\r\n    };\r\n    return EgretStageRectMask;\r\n}());\r\nexports.EgretStageRectMask = EgretStageRectMask;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LayaEngineInfo = void 0;\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\nvar Utils_1 = require(\"../../common/Utils\");\r\nvar LayaMouseEvent_1 = require(\"./LayaMouseEvent\");\r\nvar LayaStageRectMask_1 = require(\"./LayaStageRectMask\");\r\nvar LayaEngineInfo = /** @class */ (function () {\r\n    function LayaEngineInfo() {\r\n        this.name = \"Laya\";\r\n    }\r\n    // private _clssNameArray:{name:string, class:any}[] = [];\r\n    LayaEngineInfo.prototype.getParent = function (obj) {\r\n        return obj.parent;\r\n    };\r\n    // getTreeNode(obj: Laya.Node): TreeNode {\r\n    //     return EngineManager.getTreeNode(this, obj)\r\n    // }\r\n    // getProps(obj: Laya.Node, showPrivate?: boolean, showFunction?: boolean): {[name:string]:PropNode} {\r\n    //     return EngineManager.getPropNodes(this, obj, showPrivate, showFunction);\r\n    // }\r\n    LayaEngineInfo.prototype.getObjName = function (obj) {\r\n        return obj.name;\r\n    };\r\n    LayaEngineInfo.prototype.getVisible = function (obj) {\r\n        if (Laya.Sprite && obj instanceof Laya.Sprite) {\r\n            return obj.visible && obj.alpha != 0;\r\n        }\r\n        else if (Laya.Sprite3D && obj instanceof Laya.Sprite3D) {\r\n            return obj.active;\r\n        }\r\n        return true;\r\n    };\r\n    LayaEngineInfo.prototype.setVisible = function (obj, value) {\r\n        if (Laya.Sprite && obj instanceof Laya.Sprite) {\r\n            obj.visible = value;\r\n            if (value && obj.alpha < 0.1)\r\n                obj.alpha = 1;\r\n        }\r\n        else if (Laya.Sprite3D && obj instanceof Laya.Sprite3D) {\r\n            obj.active = value;\r\n        }\r\n    };\r\n    LayaEngineInfo.prototype.setMouseEnable = function (value) {\r\n        LayaMouseEvent_1.LayaMouseEvent.enableMouseEvent = value;\r\n    };\r\n    LayaEngineInfo.prototype.canUse = function (obj) {\r\n        return obj && !obj.destroyed;\r\n    };\r\n    // getPropNames(obj: Laya.Node): string[] {\r\n    //    return []\r\n    // } \r\n    LayaEngineInfo.prototype.clearMask = function () {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.clear();\r\n    };\r\n    LayaEngineInfo.prototype.haveEngine = function () {\r\n        return window[\"Laya\"] && window[\"Laya\"].stage;\r\n    };\r\n    LayaEngineInfo.prototype.init = function () {\r\n        var s = this;\r\n        s.baseCls = Laya.Node;\r\n        s.stage = Laya.stage;\r\n        s.version = Laya.version || Laya.LayaEnv.version;\r\n        s._mask = new LayaStageRectMask_1.LayaStageRectMask(s);\r\n        var obj = window[\"Laya\"];\r\n        for (var key in obj) {\r\n            if (obj[key] && obj[key][\"prototype\"])\r\n                obj[key][\"prototype\"][ConstVars_1.ConstVars.GAMEINSPECT_CLASS_KEY] = key;\r\n        }\r\n    };\r\n    LayaEngineInfo.prototype.start = function (onClickFun, onMouseMoveFun) {\r\n        var s = this;\r\n        LayaMouseEvent_1.LayaMouseEvent.start(this);\r\n        Laya.stage.on(LayaMouseEvent_1.LayaMouseEvent.MOUSE_DOWN, this, function (target) {\r\n            onClickFun.call(s, target);\r\n        });\r\n        Laya.stage.on(LayaMouseEvent_1.LayaMouseEvent.MOUSE_MOVE, this, function (target) {\r\n            onMouseMoveFun.call(s, target);\r\n        });\r\n    };\r\n    LayaEngineInfo.prototype.getChildren = function (obj) {\r\n        return obj[\"_children\"] || obj[\"_childs\"] || [];\r\n    };\r\n    LayaEngineInfo.prototype.drawMask = function (obj) {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.showRect(obj);\r\n    };\r\n    LayaEngineInfo.prototype.refushMask = function () {\r\n        var s = this;\r\n        if (s._mask)\r\n            s._mask.refush();\r\n    };\r\n    LayaEngineInfo.prototype.showFPS = function (value) {\r\n        if (window[\"Laya\"][\"Stat\"]) {\r\n            if (value) {\r\n                window[\"Laya\"][\"Stat\"].show();\r\n            }\r\n            else {\r\n                window[\"Laya\"][\"Stat\"].hide();\r\n            }\r\n        }\r\n    };\r\n    LayaEngineInfo.prototype.getAddPropNode = function (obj) {\r\n        var result = [];\r\n        var components = obj[\"_components\"];\r\n        if (components && components.length > 0) {\r\n            for (var i = 0; i < components.length; i++) {\r\n                var comp = components[i];\r\n                var node = {\r\n                    aliasName: \"[Component]\",\r\n                    name: \"_components.\" + i,\r\n                    value: Utils_1.Utils.getClassName(comp),\r\n                    type: \"object\",\r\n                    expandable: true,\r\n                    isGetter: true,\r\n                    isSetter: false,\r\n                    isPrivate: false,\r\n                };\r\n                result.push(node);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    LayaEngineInfo.prototype.getClassName = function (obj) {\r\n        if (typeof obj == \"number\" || typeof obj == \"string\")\r\n            return obj;\r\n        var s = this;\r\n        var name = Utils_1.Utils.getClassName(obj);\r\n        var components = obj[\"_components\"];\r\n        if (components && components.length > 0) {\r\n            var compNames = [];\r\n            for (var i = 0; i < components.length; i++) {\r\n                var comp = components[i];\r\n                compNames.push(Utils_1.Utils.getClassName(comp));\r\n            }\r\n            name += ConstVars_1.ConstVars.SPECIAL_NAME_START + compNames.join(\",\") + ConstVars_1.ConstVars.SPECIAL_NAME_END;\r\n        }\r\n        return name;\r\n    };\r\n    return LayaEngineInfo;\r\n}());\r\nexports.LayaEngineInfo = LayaEngineInfo;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LayaMouseEvent = void 0;\r\nvar LayaMouseEvent = /** @class */ (function () {\r\n    function LayaMouseEvent() {\r\n    }\r\n    LayaMouseEvent.start = function (engine) {\r\n        var s = this;\r\n        s._engine = engine;\r\n        s._point = new Laya.Point();\r\n        s._rect = new Laya.Rectangle();\r\n        s.MOUSE_MOVE = LayaMouseEvent.EventPreName + Laya.Event.MOUSE_MOVE;\r\n        s.MOUSE_DOWN = LayaMouseEvent.EventPreName + Laya.Event.MOUSE_DOWN;\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, s, s.handleMouseDownEvent);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, s, s.handleMouseUPEvent);\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, s, s.handleMouseEvent);\r\n        if (Laya.TouchManager) {\r\n            var touchProto = Laya.TouchManager.prototype;\r\n            var oldSendFun_1 = touchProto[\"sendEvents\"];\r\n            Object.defineProperties(touchProto, {\r\n                sendEvents: {\r\n                    value: function (eles, type) {\r\n                        if (!s.enableMouseEvent && type == Laya.Event.CLICK) {\r\n                            return;\r\n                        }\r\n                        oldSendFun_1.call(this, eles, type);\r\n                    },\r\n                    enumerable: true,\r\n                }\r\n            });\r\n        }\r\n        else if (Laya.InputManager) { //3.0 的 鼠标事件\r\n            var touchProto = Laya.InputManager.prototype;\r\n            var oldSendFun_2 = touchProto[\"bubbleEvent\"];\r\n            Object.defineProperties(touchProto, {\r\n                bubbleEvent: {\r\n                    value: function (type, ev, initiator) {\r\n                        if (!s.enableMouseEvent && type == Laya.Event.CLICK) {\r\n                            return;\r\n                        }\r\n                        oldSendFun_2.call(this, type, ev, initiator);\r\n                    },\r\n                    enumerable: true,\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LayaMouseEvent.handleMouseDownEvent = function (e) {\r\n        var s = this;\r\n        s._curMouseMoveTime = Date.now();\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, s, s.handleMouseMove);\r\n    };\r\n    LayaMouseEvent.handleMouseUPEvent = function (e) {\r\n        var s = this;\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, s, s.handleMouseMove);\r\n    };\r\n    LayaMouseEvent.handleMouseMove = function (e) {\r\n        var s = this;\r\n        var now = Date.now();\r\n        if (now - s._curMouseMoveTime < s._mouseMoveTime)\r\n            return;\r\n        s._curMouseMoveTime = now;\r\n        s.handleMouseEvent(e);\r\n    };\r\n    LayaMouseEvent.handleMouseEvent = function (e) {\r\n        var s = this;\r\n        var mouseX = 0;\r\n        var mouseY = 0;\r\n        if (Laya.MouseManager) { //<3.0版本的\r\n            mouseX = Laya.MouseManager.instance.mouseX;\r\n            mouseY = Laya.MouseManager.instance.mouseY;\r\n        }\r\n        else { //3.0版本\r\n            mouseX = Laya.InputManager.mouseX;\r\n            mouseY = Laya.InputManager.mouseY;\r\n        }\r\n        s.check(Laya.stage, mouseX, mouseY, mouseX, mouseY);\r\n        Laya.stage.event(LayaMouseEvent.EventPreName + e.type, s._target);\r\n    };\r\n    LayaMouseEvent.check = function (sp, mouseX, mouseY, stageX, stageY) {\r\n        this._point.setTo(mouseX, mouseY);\r\n        if (sp[\"fromParentPoint\"]) {\r\n            sp.fromParentPoint(this._point);\r\n            mouseX = this._point.x;\r\n            mouseY = this._point.y;\r\n        }\r\n        //如果有裁剪，则先判断是否在裁剪范围内\r\n        var scrollRect = sp[\"_style\"] ? sp[\"_style\"].scrollRect : null;\r\n        if (scrollRect) {\r\n            this._rect.setTo(scrollRect.x, scrollRect.y, scrollRect.width, scrollRect.height);\r\n            if (!this._rect.contains(mouseX, mouseY))\r\n                return false;\r\n        }\r\n        var notCheckChild = false; //不响应鼠标的对象\r\n        if (Laya.Label && sp instanceof Laya.Label)\r\n            notCheckChild = true;\r\n        if (Laya.Button && sp instanceof Laya.Button)\r\n            notCheckChild = true;\r\n        if (Laya.Image && sp instanceof Laya.Image)\r\n            notCheckChild = true;\r\n        if (Laya.Text && sp instanceof Laya.Text)\r\n            notCheckChild = true;\r\n        var children = this._engine.getChildren(sp);\r\n        if (!notCheckChild && children) {\r\n            for (var i = children.length - 1; i > -1; i--) {\r\n                var child = children[i];\r\n                // if(!(child instanceof Laya.Sprite))continue;\r\n                //只有接受交互事件的，才进行处理\r\n                if (!child.destroyed && child.visible /**非Sprite的node中没有visible属性**/ != false) {\r\n                    if (this.check(child, mouseX, mouseY, stageX, stageY))\r\n                        return true;\r\n                }\r\n            }\r\n            // 检查逻辑子对象\r\n            if (sp[\"_extUIChild\"]) {\r\n                for (i = sp[\"_extUIChild\"].length - 1; i >= 0; i--) {\r\n                    var c = sp[\"_extUIChild\"][i];\r\n                    if (!(c instanceof Laya.Sprite))\r\n                        continue;\r\n                    if (!c.destroyed && c.visible) {\r\n                        if (this.check(c, mouseX, mouseY, stageX, stageY))\r\n                            return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var isHit = this.hitTest(sp, mouseX, mouseY, stageX, stageY);\r\n        if (isHit) {\r\n            this._target = sp;\r\n        }\r\n        return isHit;\r\n    };\r\n    LayaMouseEvent.hitTest = function (sp, mouseX, mouseY, stageX, stageY) {\r\n        var s = this;\r\n        if (Laya.Sprite3D && sp instanceof Laya.Sprite3D) {\r\n            return s.hitTest3D(sp, stageX, stageY);\r\n        }\r\n        else {\r\n            return s.hitTest2D(sp, mouseX, mouseY);\r\n        }\r\n    };\r\n    LayaMouseEvent.hitTest2D = function (sp, mouseX, mouseY) {\r\n        var isHit = false;\r\n        var hitArea;\r\n        if (sp[\"_style\"]) {\r\n            if (sp.scrollRect) {\r\n                mouseX -= sp[\"_style\"].scrollRect.x;\r\n                mouseY -= sp[\"_style\"].scrollRect.y;\r\n            }\r\n            hitArea = sp[\"_style\"].hitArea;\r\n            if (hitArea && hitArea._hit) {\r\n                return hitArea.contains(mouseX, mouseY);\r\n            }\r\n        }\r\n        if (sp.width > 0 && sp.height > 0 || sp.mouseThrough || hitArea) {\r\n            //判断是否在矩形区域内\r\n            if (!sp.mouseThrough) {\r\n                //MOD by liuzihao: saved call of 'hitRect' and 'this._rect' when 'sp.hitArea' is not null.\r\n                isHit = (hitArea ? hitArea : this._rect.setTo(0, 0, sp.width, sp.height)).contains(mouseX, mouseY);\r\n            }\r\n            else {\r\n                //如果可穿透，则根据子对象实际大小进行碰撞\r\n                isHit = sp.getGraphicBounds().contains(mouseX, mouseY);\r\n            }\r\n        }\r\n        return isHit;\r\n    };\r\n    LayaMouseEvent.hitTest3D = function (sp, stageX, stageY) {\r\n        if (!Laya.Sprite3D || !Laya.HitResult)\r\n            return false;\r\n        if (!sp.scene)\r\n            return false;\r\n        var sim = sp.scene.cannonPhysicsSimulation || sp.scene.physicsSimulation;\r\n        if (!sim)\r\n            return;\r\n        var cameras = sp.scene._cameraPool;\r\n        if (!cameras || !cameras.length)\r\n            return false;\r\n        var touchPos = new Laya.Vector2(stageX, stageY);\r\n        var touchRay = new Laya.Ray(new Laya.Vector3(), new Laya.Vector3());\r\n        var touchHitResult = new Laya.HitResult();\r\n        touchHitResult.succeeded = false;\r\n        for (var i = cameras.length - 1; i >= 0; i--) {\r\n            var camera = cameras[i];\r\n            camera.viewportPointToRay(touchPos, touchRay);\r\n            sim.rayCast(touchRay, touchHitResult);\r\n            if (touchHitResult.succeeded && touchHitResult.collider.owner == sp) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    LayaMouseEvent.EventPreName = \"layaInspactEvent_\";\r\n    LayaMouseEvent.enableMouseEvent = true;\r\n    LayaMouseEvent._mouseMoveTime = 500;\r\n    LayaMouseEvent._curMouseMoveTime = 0;\r\n    return LayaMouseEvent;\r\n}());\r\nexports.LayaMouseEvent = LayaMouseEvent;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LayaStageRectMask = void 0;\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\n/**\r\n * 绘制舞台上区域\r\n */\r\nvar LayaStageRectMask = /** @class */ (function () {\r\n    function LayaStageRectMask(engineInfo) {\r\n        this._engineInfo = engineInfo;\r\n        this._mask = new Laya.Sprite();\r\n        this._rect = new Laya.Rectangle();\r\n        this._tempPoint = new Laya.Point();\r\n        this._mask.name = ConstVars_1.ConstVars.StageMaskName;\r\n        var version = this._engineInfo.version;\r\n        if (version.startsWith(\"1.\")) {\r\n            this._mask.alpha = 0.3;\r\n        }\r\n        else {\r\n            this._mask.alpha = 1;\r\n        }\r\n    }\r\n    LayaStageRectMask.prototype.showRect = function (obj) {\r\n        var s = this;\r\n        if (s._bindObj) {\r\n            s.clear();\r\n        }\r\n        s._bindObj = obj;\r\n        s._bindObj.on(Laya.Event.UNDISPLAY, s, s.clear);\r\n        if (!obj) {\r\n            s._mask.removeSelf();\r\n            return;\r\n        }\r\n        Laya.stage.addChild(s._mask);\r\n        s.refush();\r\n        Laya.timer.loop(1000, s, s.refush);\r\n    };\r\n    LayaStageRectMask.prototype.refush = function () {\r\n        var s = this;\r\n        if (!s._bindObj)\r\n            return;\r\n        var x = 0;\r\n        var y = 0;\r\n        var w = 0;\r\n        var h = 0;\r\n        if (Laya.Sprite3D && s._bindObj instanceof Laya.Sprite3D) { //3d 对象\r\n            var sp_1 = s._bindObj;\r\n            if (!sp_1.scene || !sp_1.transform)\r\n                return;\r\n            var cameras = sp_1.scene._cameraPool;\r\n            if (!cameras || !cameras.length)\r\n                return false;\r\n            var outPos = new Laya.Vector4();\r\n            for (var i = cameras.length - 1; i >= 0; i--) {\r\n                var camera = cameras[i];\r\n                camera.viewport.project(sp_1.transform.position, camera.projectionViewMatrix, outPos);\r\n            }\r\n            x = outPos.x * Laya.stage.clientScaleX;\r\n            y = outPos.y * Laya.stage.clientScaleY;\r\n            w = 50;\r\n            h = 50;\r\n            s.draw3D(s._bindObj);\r\n        }\r\n        else if (Laya.Sprite && s._bindObj instanceof Laya.Sprite) { //2d 对象\r\n            s._tempPoint.x = 0;\r\n            s._tempPoint.y = 0;\r\n            s._bindObj.localToGlobal(s._tempPoint);\r\n            x = s._tempPoint.x;\r\n            y = s._tempPoint.y;\r\n            w = Math.max(20, s._bindObj[\"width\"]) * s._bindObj[\"scaleX\"];\r\n            h = Math.max(20, s._bindObj[\"height\"]) * s._bindObj[\"scaleY\"];\r\n        }\r\n        if (s._rect.x == x && s._rect.y == y && s._rect.width == w && s._rect.height == h) {\r\n            return;\r\n        }\r\n        s._rect.x = x;\r\n        s._rect.y = y;\r\n        s._rect.width = w;\r\n        s._rect.height = h;\r\n        s._mask.graphics.clear();\r\n        s._mask.graphics.drawRect(s._rect.x, s._rect.y, s._rect.width, s._rect.height, \"#00C80022\", \"#00C800ee\", 1);\r\n    };\r\n    /**绘制3d对象 */\r\n    LayaStageRectMask.prototype.draw3D = function (sp) {\r\n        if (!Laya.Sprite3D || !sp)\r\n            return;\r\n        var meshRenderer = this.getSprite3DRender(sp);\r\n        if (meshRenderer) {\r\n            meshRenderer[LayaStageRectMask.GAMEINSPECT_SELECT_SHADER_TAG] = true;\r\n            if (this._engineInfo.version.startsWith(\"1.\")) {\r\n                meshRenderer.material = this.getSelectMaterial();\r\n            }\r\n            else {\r\n                meshRenderer.sharedMaterial = this.getSelectMaterial();\r\n            }\r\n        }\r\n    };\r\n    /**获取3d的渲染render  */\r\n    LayaStageRectMask.prototype.getSprite3DRender = function (sp) {\r\n        if (Laya.RenderableSprite3D && sp instanceof Laya.RenderableSprite3D) { //2.0  可以渲染的3d对象\r\n            if (sp[\"_render\"])\r\n                return sp[\"_render\"];\r\n        }\r\n        if (Laya.Sprite3D && Laya.BaseRender && sp instanceof Laya.Sprite3D) { //通过Component 添加的render\r\n            var comps = sp[\"_components\"];\r\n            if (comps) {\r\n                for (var i = 0; i < comps.length; i++) {\r\n                    if (comps[i] instanceof Laya.BaseRender) {\r\n                        return comps[i];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**获取选择的材质 */\r\n    LayaStageRectMask.prototype.getSelectMaterial = function () {\r\n        var s = this;\r\n        if (!s._select3DMaterial) {\r\n            this.register3DMaterial();\r\n            if (Laya.UnlitMaterial) {\r\n                var selectedMaterial = new Laya.UnlitMaterial();\r\n                if (s._engineInfo.version.startsWith(\"3\")) { //3.x版本\r\n                    selectedMaterial.albedoColor = new Laya.Color(1, 1, 0);\r\n                }\r\n                else {\r\n                    selectedMaterial.albedoColor = new Laya.Vector4(1, 1, 0, 1);\r\n                }\r\n                s._select3DMaterial = selectedMaterial;\r\n            }\r\n            else if (Laya[\"StandardMaterial\"]) {\r\n                s._select3DMaterial = new Laya[\"StandardMaterial\"]();\r\n                s._select3DMaterial[\"albedoColor\"] = new Laya.Vector4(1, 1, 0, 1);\r\n            }\r\n        }\r\n        return s._select3DMaterial;\r\n    };\r\n    /**注册3d 的render方法， 重写render 的设置 material */\r\n    LayaStageRectMask.prototype.register3DMaterial = function () {\r\n        var s = this;\r\n        if (!Laya.BaseRender)\r\n            return;\r\n        var prototype = Laya.BaseRender.prototype;\r\n        Object.defineProperty(prototype, \"sharedMaterial\", {\r\n            set: function (value) {\r\n                var lastValue = this._sharedMaterials ? this._sharedMaterials[0] : this._materials[0]; /***1.xx版本用的是 _materials  2.x以上用的是_sharedMaterials */\r\n                if (this[LayaStageRectMask.GAMEINSPECT_SELECT_SHADER_TAG]) {\r\n                    var selectMaterial = s.getSelectMaterial();\r\n                    if (!this[LayaStageRectMask.GAMEINSPECT_SELECT_OLD_MATERIAL_PROP] && selectMaterial != lastValue) {\r\n                        this[LayaStageRectMask.GAMEINSPECT_SELECT_OLD_MATERIAL_PROP] = lastValue;\r\n                    }\r\n                    if (selectMaterial != value) {\r\n                        this[LayaStageRectMask.GAMEINSPECT_SELECT_OLD_MATERIAL_PROP] = value;\r\n                        value = selectMaterial;\r\n                    }\r\n                }\r\n                if (lastValue !== value) {\r\n                    if (this._sharedMaterials)\r\n                        this._sharedMaterials[0] = value;\r\n                    else\r\n                        this._materials[0] = value;\r\n                    this._materialsInstance[0] = false;\r\n                    this._changeMaterialReference(lastValue, value);\r\n                    var renderElement = this._renderElements[0];\r\n                    (renderElement) && (renderElement[\"material\"] = value);\r\n                }\r\n                if (this._isSupportReflection)\r\n                    this._isSupportReflection();\r\n            },\r\n            get: function () {\r\n                return this._sharedMaterials ? this._sharedMaterials[0] : this._materials[0];\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n    };\r\n    /**清理当前绑定的obj */\r\n    LayaStageRectMask.prototype.clear = function () {\r\n        var s = this;\r\n        if (s._bindObj) {\r\n            // s._bindObj.offAllCaller(s);\r\n            s._bindObj.off(Laya.Event.UNDISPLAY, s, s.clear);\r\n        }\r\n        if (Laya.Sprite3D && s._bindObj) {\r\n            var meshRenderer = s.getSprite3DRender(s._bindObj);\r\n            if (meshRenderer && meshRenderer[LayaStageRectMask.GAMEINSPECT_SELECT_SHADER_TAG]) {\r\n                var old = meshRenderer[LayaStageRectMask.GAMEINSPECT_SELECT_OLD_MATERIAL_PROP];\r\n                meshRenderer[LayaStageRectMask.GAMEINSPECT_SELECT_SHADER_TAG] = false;\r\n                meshRenderer[LayaStageRectMask.GAMEINSPECT_SELECT_OLD_MATERIAL_PROP] = null;\r\n                if (old) {\r\n                    meshRenderer.sharedMaterial = old;\r\n                }\r\n            }\r\n        }\r\n        Laya.timer.clearAll(s);\r\n        if (s._rect) {\r\n            s._rect.x = 0;\r\n            s._rect.y = 0;\r\n            s._rect.width = 0;\r\n            s._rect.height = 0;\r\n        }\r\n        s._bindObj = null;\r\n        s._mask.removeSelf();\r\n    };\r\n    LayaStageRectMask.GAMEINSPECT_SELECT_SHADER_TAG = \"$GameInspectSelectShader\";\r\n    LayaStageRectMask.GAMEINSPECT_SELECT_OLD_MATERIAL_PROP = \"$GameInspectOldMaterial\";\r\n    return LayaStageRectMask;\r\n}());\r\nexports.LayaStageRectMask = LayaStageRectMask;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PIXIEngineInfo = void 0;\r\nvar PIXIStageRectMask_1 = require(\"./PIXIStageRectMask\");\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\nvar PIXIEngineInfo = /** @class */ (function () {\r\n    function PIXIEngineInfo() {\r\n        this.name = \"PIXI\";\r\n        this._haveInjectApplictionRender = false;\r\n    }\r\n    PIXIEngineInfo.prototype.haveEngine = function () {\r\n        if (!window[\"PIXI\"] || !window[\"PIXI\"][\"Application\"] || !window[\"PIXI\"][\"Ticker\"])\r\n            return false;\r\n        var s = this;\r\n        if (!s._haveInjectApplictionRender) {\r\n            s._haveInjectApplictionRender = true;\r\n            var tickerPrototype = window[\"PIXI\"][\"Ticker\"].prototype;\r\n            var oldTickUpdateRender_1 = tickerPrototype[\"update\"];\r\n            Object.defineProperty(tickerPrototype, \"update\", {\r\n                value: function () {\r\n                    if (!s.stage) {\r\n                        var head = this._head;\r\n                        var maxLoopNum = 100;\r\n                        var curLoopNum = 0;\r\n                        while (head) {\r\n                            curLoopNum++;\r\n                            if (curLoopNum >= maxLoopNum)\r\n                                break;\r\n                            if (head.context && head.context instanceof window[\"PIXI\"][\"Application\"]) {\r\n                                s.stage = head.context.stage;\r\n                                break;\r\n                            }\r\n                            head = head.next;\r\n                        }\r\n                    }\r\n                    oldTickUpdateRender_1.call(this);\r\n                },\r\n                enumerable: true,\r\n            });\r\n        }\r\n        return !!s.stage;\r\n    };\r\n    PIXIEngineInfo.prototype.init = function () {\r\n        var s = this;\r\n        s.version = PIXI.VERSION;\r\n        s.baseCls = PIXI.DisplayObject;\r\n        s._mask = new PIXIStageRectMask_1.PIXIStageRectMask(s);\r\n        var obj = window[\"PIXI\"];\r\n        for (var key in obj) {\r\n            if (obj[key] && obj[key][\"prototype\"])\r\n                obj[key][\"prototype\"][ConstVars_1.ConstVars.GAMEINSPECT_CLASS_KEY] = key;\r\n        }\r\n    };\r\n    PIXIEngineInfo.prototype.start = function (onClickFun, onMouseMoveFun) {\r\n    };\r\n    PIXIEngineInfo.prototype.getChildren = function (obj) {\r\n        if (obj[\"children\"])\r\n            return obj[\"children\"];\r\n        return [];\r\n    };\r\n    PIXIEngineInfo.prototype.getParent = function (obj) {\r\n        return obj.parent;\r\n    };\r\n    PIXIEngineInfo.prototype.drawMask = function (obj) {\r\n        if (this._mask)\r\n            this._mask.showRect(obj);\r\n    };\r\n    PIXIEngineInfo.prototype.clearMask = function () {\r\n        if (this._mask)\r\n            this._mask.clear();\r\n    };\r\n    PIXIEngineInfo.prototype.canUse = function (obj) {\r\n        return !!obj;\r\n    };\r\n    PIXIEngineInfo.prototype.getObjName = function (obj) {\r\n        return obj[\"name\"];\r\n    };\r\n    PIXIEngineInfo.prototype.getVisible = function (obj) {\r\n        return obj.visible;\r\n    };\r\n    PIXIEngineInfo.prototype.setMouseEnable = function (value) {\r\n    };\r\n    PIXIEngineInfo.prototype.setVisible = function (obj, value) {\r\n        obj.visible = value;\r\n        if (value && obj.alpha == 0)\r\n            obj.alpha = 1;\r\n    };\r\n    PIXIEngineInfo.prototype.showFPS = function (value) {\r\n    };\r\n    return PIXIEngineInfo;\r\n}());\r\nexports.PIXIEngineInfo = PIXIEngineInfo;\r\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PIXIStageRectMask = void 0;\r\nvar ConstVars_1 = require(\"../../common/ConstVars\");\r\n/**\r\n * 绘制舞台上区域\r\n */\r\nvar PIXIStageRectMask = /** @class */ (function () {\r\n    function PIXIStageRectMask(engine) {\r\n        this._engine = engine;\r\n        this._mask = new PIXI.Graphics();\r\n        this._tempPoint = new PIXI.Point();\r\n        this._mask[\"name\"] = ConstVars_1.ConstVars.StageMaskName;\r\n    }\r\n    PIXIStageRectMask.prototype.showRect = function (obj) {\r\n        var s = this;\r\n        if (s._bindObj) {\r\n            // s._bindObj.offAllCaller(s);// engin: Laya version: 1.7.17 没有此方法\r\n            // s._bindObj.(Laya.Event.UNDISPLAY, s, s.clear)\r\n        }\r\n        s._bindObj = obj;\r\n        // s._bindObj.on(Laya.Event.UNDISPLAY, s, s.clear);\r\n        if (!obj) {\r\n            if (s._mask.parent)\r\n                s._mask.parent.removeChild(s._mask);\r\n            return;\r\n        }\r\n        s._engine.stage[\"addChild\"](s._mask);\r\n        s._tempPoint.x = 0;\r\n        s._tempPoint.y = 0;\r\n        var point = obj.toGlobal(s._tempPoint);\r\n        var bounds = obj.getLocalBounds();\r\n        var scale = obj.scale;\r\n        var w = Math.max(20, scale.x * bounds.width);\r\n        var h = Math.max(20, scale.y * bounds.width);\r\n        var anchorX = 0;\r\n        var anchorY = 0;\r\n        var anchor = obj[\"anchor\"];\r\n        if (anchor) {\r\n            anchorX = anchor.x;\r\n            anchorY = anchor.y;\r\n        }\r\n        s._mask.clear();\r\n        s._mask.beginFill(0x00C800, 0.3);\r\n        s._mask.lineStyle(1, 0x00C800, 0.5);\r\n        s._mask.drawRect(point.x - w * anchorX, point.y - w * anchorY, w, h);\r\n        s._mask.endFill();\r\n    };\r\n    PIXIStageRectMask.prototype.clear = function () {\r\n        var s = this;\r\n        // if(s._bindObj){\r\n        //     // s._bindObj.offAllCaller(s);\r\n        //     s._bindObj.off(Laya.Event.UNDISPLAY, s, s.clear)\r\n        // }\r\n        s._bindObj = null;\r\n        if (s._mask.parent)\r\n            s._mask.parent.removeChild(s._mask);\r\n    };\r\n    return PIXIStageRectMask;\r\n}());\r\nexports.PIXIStageRectMask = PIXIStageRectMask;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","Object.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EngineManager = void 0;\r\nvar TreeNode_1 = require(\"../common/TreeNode\");\r\nvar CocosCreatorEngineInfo_1 = require(\"./cocoscreator/CocosCreatorEngineInfo\");\r\nvar Cocos2dxEngineInfo_1 = require(\"./cocos2dx/Cocos2dxEngineInfo\");\r\nvar EgretEnginInfo_1 = require(\"./egret/EgretEnginInfo\");\r\nvar LayaEngineInfo_1 = require(\"./laya/LayaEngineInfo\");\r\nvar Utils_1 = require(\"../common/Utils\");\r\nvar PIXIEngineInfo_1 = require(\"./pixi/PIXIEngineInfo\");\r\nvar ConstVars_1 = require(\"../common/ConstVars\");\r\nvar EngineManager = /** @class */ (function () {\r\n    function EngineManager() {\r\n    }\r\n    EngineManager.init = function () {\r\n        var s = this;\r\n        var defaultEngines = [LayaEngineInfo_1.LayaEngineInfo, EgretEnginInfo_1.EgretEngineInfo, CocosCreatorEngineInfo_1.CocosCreatorEngineInfo, Cocos2dxEngineInfo_1.Cocos2dxEngineInfo, PIXIEngineInfo_1.PIXIEngineInfo];\r\n        for (var i = 0; i < defaultEngines.length; i++) {\r\n            var engine = new defaultEngines[i]();\r\n            if (!s._engineDic[engine.name]) { //已经注册过的不在注册\r\n                s.register(engine);\r\n            }\r\n        }\r\n    };\r\n    EngineManager.register = function (engine) {\r\n        var s = this;\r\n        if (!engine.getClassName) { //如果没有设置 获取 propNode 则使用默认的\r\n            engine.getClassName = function (obj) {\r\n                return Utils_1.Utils.getClassName(obj);\r\n            };\r\n        }\r\n        s._engineDic[engine.name] = engine;\r\n    };\r\n    EngineManager.check = function () {\r\n        var s = this;\r\n        for (var key in s._engineDic) {\r\n            var engine = s._engineDic[key];\r\n            if (engine.haveEngine())\r\n                return engine;\r\n        }\r\n        return null;\r\n    };\r\n    EngineManager.getTreeNode = function (engineInfo, obj) {\r\n        var s = this;\r\n        var treeNode = new TreeNode_1.TreeNode();\r\n        treeNode.name = engineInfo.getClassName(obj);\r\n        treeNode.memberName = engineInfo.getObjName(obj);\r\n        treeNode.visible = engineInfo.getVisible(obj);\r\n        treeNode.uid = obj.devUUID;\r\n        var children = engineInfo.getChildren(obj);\r\n        treeNode.hasChildren = children ? children.length > 0 : false;\r\n        treeNode.updateIcon();\r\n        return treeNode;\r\n    };\r\n    EngineManager.getPropNodes = function (engineInfo, obj, showPrivate, showFunction) {\r\n        var s = this;\r\n        var props = {};\r\n        props = {};\r\n        var addProps = engineInfo.getAddPropNode && engineInfo.getAddPropNode(obj);\r\n        var filterProps = engineInfo.getNotShowPropNames && engineInfo.getNotShowPropNames(obj);\r\n        var temp = obj;\r\n        while (temp) {\r\n            var keys = Reflect.ownKeys(temp);\r\n            for (var key in keys) {\r\n                var propName = keys[key];\r\n                if (propName == \"devUUID\")\r\n                    continue;\r\n                if (typeof propName != \"string\")\r\n                    continue;\r\n                if (filterProps && filterProps.indexOf(propName) != -1)\r\n                    continue;\r\n                var propNode = s.getOnePropNode(obj, temp, propName);\r\n                if (engineInfo.modifyPropNode) { //修改属性节点\r\n                    propNode = engineInfo.modifyPropNode(obj, propName, propNode);\r\n                }\r\n                if (!showPrivate && propNode.isPrivate)\r\n                    continue;\r\n                if (!showFunction && propNode.type == \"function\")\r\n                    continue;\r\n                props[propNode.name] = propNode;\r\n            }\r\n            temp = temp.__proto__;\r\n        }\r\n        if (addProps && addProps.length > 0) {\r\n            for (var i = 0; i < addProps.length; i++) {\r\n                var propNode = addProps[i];\r\n                props[propNode.name] = propNode;\r\n            }\r\n        }\r\n        return props;\r\n    };\r\n    EngineManager.getOnePropNode = function (obj, owner, prop) {\r\n        var propNode = { name: prop };\r\n        propNode.isPrivate = prop.indexOf(\"_\") == 0 || prop.indexOf(\"$\") == 0;\r\n        var propInfo = Object.getOwnPropertyDescriptor(owner, prop);\r\n        // let findPropInfoObj = propInfo;\r\n        // while(propInfo == null && findPropInfoObj){\r\n        //     findPropInfoObj = Object.getPrototypeOf(findPropInfoObj);\r\n        //     propInfo = Object.getOwnPropertyDescriptor(findPropInfoObj, prop);\r\n        // }\r\n        if (propInfo) {\r\n            propNode.isGetter = propInfo.get != undefined;\r\n            propNode.isSetter = propNode.isGetter && propInfo.set != undefined;\r\n        }\r\n        var value = null;\r\n        try {\r\n            value = obj[prop];\r\n        }\r\n        catch (u) {\r\n            value = \"faild to get value\";\r\n        }\r\n        var type = typeof value;\r\n        propNode.type = type;\r\n        if (type == \"object\" && value) {\r\n            propNode.expandable = true;\r\n        }\r\n        propNode.value = Utils_1.Utils.stringifyValue(value);\r\n        return propNode;\r\n    };\r\n    EngineManager._engineDic = {};\r\n    return EngineManager;\r\n}());\r\nexports.EngineManager = EngineManager;\r\nwindow[ConstVars_1.ConstVars.ENGINE_MANAGER_PROP_NAME] = EngineManager;\r\n"],"names":[],"sourceRoot":""}