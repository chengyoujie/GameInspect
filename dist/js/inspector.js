(()=>{var e,t,n,r,o,a,i,s={8786:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMessage=void 0;var n=function(){function e(e,t,n,r){this._from=e,this._name=r||this._from,this._thisObj=n,this._onMessage=t,this.init(),this.initListener()}return e.prototype.init=function(){},e.prototype.initListener=function(){},e}();t.BaseMessage=n},4347:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeConnectMessage=void 0;var a=n(8786),i=n(9475),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){},t.prototype.initListener=function(){var e=this;if(chrome&&chrome.runtime)try{e._prot=chrome.runtime.connect({name:e._name}),e._prot.onMessage.addListener((function(t,n){i.ConstVars.DEBUG&&console.log("==== Chrome Message 收到消息",t),t.data&&t.data.from==e._from||e._onMessage.call(e._thisObj,t)}))}catch(e){console.log("Game Inspect 链接失败",e)}},t.prototype.post=function(e,t){var n=this;if(n._prot){var r,o=!1;r="string"==typeof e?{from:this._from,name:this._name,type:e,data:t}:e;try{n._prot.postMessage(r)}catch(e){o=!0}o&&(n.initListener(),n._prot.postMessage(r))}},t}(a.BaseMessage);t.ChromeConnectMessage=s},9475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConstVars=void 0;var n=function(){function e(){}return e.VERSIONURL="https://github.com/chengyoujie/GameInspect/releases/download/release",e.VERSIONINFOURL="https://chengyoujie.github.io/GameInspect/version/version.txt",e.StageMaskName="$GAME_INSPECT_MASK",e.BUGURL="https://github.com/chengyoujie/GameInspect/issues",e.GitHubURL="https://github.com/chengyoujie/GameInspect",e.TongJiURL="https://hm.baidu.com/hm.js?616b91f08c766f10bb08e53dab9823fe",e.QQ="613279506",e.HEARTBEAT=5e3,e.WINDOW_RELOAD_TAG="$gameInspectHasReload",e.WINDOW_INJECT_RELOAD_CODE="$gameInspectReloadCode",e.WINDOW_HAS_FIND_ENGINE="$gameInspectHasFindEngine",e.ENGINE_MANAGER_PROP_NAME="$gameInspectEngineManager",e.ENGINE_EXTEND_PROP_NAME="$gameInspectExtendManager",e.GAMEINSPECT_CLASS_KEY="$_gameInspect_class_key_$",e.GAMEINSPECT_INIT="$gameInspectInit",e.DEBUG=!1,e.DEV=!1,e.$GAMEURL="#GAMEURL#",e.$SITEURL="#SITEURL#",e.$EngineName="#ENGINENAME#",e.$VarGameURL="$gameURL",e.$VarSiteURL="$siteURL",e.$VarEngineName="$engineName",e.$SCRITP_NAMES="gameInsectScriptNames",e.SPECIAL_NAME_START="{",e.SPECIAL_NAME_END="}",e}();t.ConstVars=n},6030:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FunUtils=void 0;var n=function(){function e(){}return e.saveOldFun=function(e,t){if(!e||!e[t])return!1;var n=this.OLD_FUN_PRE+t;return e[n]||(e[n]=e[t]),!0},e.execOldFun=function(e,t,n){var r=this.OLD_FUN_PRE+t;if(e&&e[r])return this.exeFun(e,r,n)},e.exeFun=function(e,t,n){switch(n.length){case 1:return e[t](n[0]);case 2:return e[t](n[0],n[1]);case 3:return e[t](n[0],n[1],n[2]);case 4:return e[t](n[0],n[1],n[2],n[3]);case 5:return e[t](n[0],n[1],n[2],n[3],n[4]);case 6:return e[t](n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6]);case 8:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]);case 9:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]);case 10:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]);case 11:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10]);case 12:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11]);case 13:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12]);case 14:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13]);case 15:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14]);case 16:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);case 17:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16]);case 18:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17]);case 19:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18]);case 20:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19]);case 21:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20]);case 22:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21]);case 23:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22]);case 24:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23]);case 25:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24]);case 26:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25]);case 27:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26]);case 28:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27]);case 29:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28]);case 30:return e[t](n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29]);default:return e[t].apply(e,n)}},e.OLD_FUN_PRE="$gameInspect_old_fun_",e}();t.FunUtils=n},8946:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var r=n(4347),o=n(2951),a=function(){function e(){}return e.getMessage=function(e,t,n,r){return new(this.getMessageClsByType(e))(e,t,n,r)},e.getMessageClsByType=function(e){switch(e){case"DevPanel":case"contentChrome":case"background":return r.ChromeConnectMessage;case"Stage":case"contentWindow":return o.WindowMessage}},e}();t.Message=a},4797:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var r=n(9475),o=function(){function e(){}return e.getUID=function(){var e=this;return window[e.windowUidPropName]||(window[e.windowUidPropName]=0),window[e.windowUidPropName]++,window[e.windowUidPropName]},e.setObjectDevUUID=function(e){var t=this;e&&(e.hasOwnProperty("devUUID")||Object.defineProperty(e,"devUUID",{get:function(){var e=this.$_DevUUID;return e||(e=this.$_DevUUID=t.getUID(),window[t.windowUidDicPropName]||(window[t.windowUidDicPropName]={}),window[t.windowUidDicPropName][e]=this),e},enumerable:!1}))},e.getObjectByDevUUID=function(e){return window[this.windowUidDicPropName]?window[this.windowUidDicPropName][e]:null},e.stringifyValue=function(e){if(null==e)return"null";if(null==e)return"undefined";switch(typeof e){case"string":return e;case"bigint":case"number":return isNaN(e)?"NaN":e;case"object":return Array.isArray(e)?"array":this.getClassName(e);default:return String(e)}},e.parseValue=function(e){if("NaN"!=e&&"undefined"!=e){if("null"==e)return null;if("true"==e)return!0;if("false"==e)return!1;try{return JSON.parse(e)}catch(t){return e}}},e.setObjPropClassName=function(e){if(e&&"object"==typeof e){var t=function(t){if(e[t]&&e[t].prototype){var n=e[t].prototype;Object.defineProperty(n,r.ConstVars.GAMEINSPECT_CLASS_KEY,{get:function(){return t},enumerable:!1,configurable:!0})}};for(var n in e)t(n)}},e.setClassKey=function(e,t){Object.defineProperty(e,r.ConstVars.GAMEINSPECT_CLASS_KEY,{get:function(){return t},enumerable:!1})},e.getClassName=function(e){if("number"==typeof e||"string"==typeof e)return e;if(e.__class__)return e.__class__;if(e.constructor&&e.constructor.__classid&&e.constructor.__classid.indexOf&&0!=e.constructor.__classid.indexOf("CLS_"))return e.constructor.__classid;if(e.$owner){var t,n=e.$owner;return n.__class__?n.__class__:n.__classname__?n.__classname__:n._className?n._className:(n.constructor&&n.constructor.name&&(t=n.constructor.name),t&&t.length>2?t:n[r.ConstVars.GAMEINSPECT_CLASS_KEY]?n[r.ConstVars.GAMEINSPECT_CLASS_KEY]:t||typeof n)}return e.__classname__?e.__classname__:e._className?e._className:e.__className&&"laya"!=e.__className.substring(0,4).toLocaleLowerCase()?e.__className:(e.constructor&&e.constructor.name&&(o=e.constructor.name),o&&o.length>2?o:e[r.ConstVars.GAMEINSPECT_CLASS_KEY]?e[r.ConstVars.GAMEINSPECT_CLASS_KEY]:o||typeof e);var o},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&0!=e.length){for(var n=["#a6d2b5","#cda6d2","#d2a6b1","#a6bfd2","#d2b2a6","#a6a8d2","#d190df"],r=[""],o=0;o<e.length;o++){var a=n[o%n.length];r[0]+=(0==o?"":" ")+"%c "+e[o];var i=0==o?3:0,s=o==e.length-1?3:0;r.push("background: ".concat(a,"; padding: 4px;font-size: 13px; border-radius: ").concat(i,"px ").concat(s,"px ").concat(s,"px ").concat(i,"px; color: #163808"))}this.ConsoleLogFun.apply(console,r)}},e.error=function(e){this.ConsoleLogFun.call(console,"%c".concat(e),"background: #f5a2a2; padding: 4px; width:100%; border-radius: 3px 3px 3px 3px; color: #ff0000;font-size: 13px;")},e.transformUserRuleCode=function(e,t){for(var n="",o="",a="",i=0;i<t.length;i++)t[i].engine&&(n=t[i].engine,o=t[i].url),t[i].frameId||(a=t[i].url);return this.replaceAll(e,r.ConstVars.$EngineName,'"'+n+'"',r.ConstVars.$SITEURL,'"'+a+'"',r.ConstVars.$GAMEURL,'"'+o+'"')},e.addScript=function(e,t,n){void 0===n&&(n=!0),t="$gameInspectInsertScript_"+t;var o=document.getElementById(t);if(o){if(!n)return;document.head.removeChild(o)}var a=document.createElement("script");a.innerHTML=e,a.id=t;try{document.head.appendChild(a)}catch(e){r.ConstVars.DEBUG&&console.log("添加脚本失败 "+t)}},e.addSrcScript=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!0),t="$gameInspectInsertSrcScript_"+t;var o=document.getElementById(t);if(o){if(!r)return;document.head.removeChild(o)}var a=document.createElement("script");a.src=e,a.id=t,a.onload=function(){n&&n(!0)},a.onerror=function(){n&&n(!1)},document.head.appendChild(a)},e.evalUserRuleCode=function(t,n,o){var a="",i="",s="";n.engine&&(a=n.engine,s=n.url),n.frameId||(i=n.url),t=this.replaceAll(t,r.ConstVars.$VarEngineName,'"'+a+'"',r.ConstVars.$VarSiteURL,'"'+i+'"',r.ConstVars.$VarGameURL,'"'+s+'"');var c="$gameInspectMatchUserCode".concat(o);return e.addScript("function ".concat(c,"(){\n            ").concat(t,";\n        }\n        "),"useMatchScprit"+o),!!window[c]&&window[c]()},e.replaceAll=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return e;for(var r=0;r<t.length;r+=2){var o=t[r],a=t[r+1];o=o.replace(/(\$|\||\.|\*|\?|\+|\{|\}|\[|\]|\%)/gi,"\\$1");var i=new RegExp(o,"gi");e=e.replace(i,a)}return e},e.copy=function(e){var t=document.getElementById("oInput");t||(t=document.createElement("textarea"),document.body.appendChild(t),t.id="oInput",t.readOnly="readonly",t.position="absolute"),t.value=e+"",t.select(),document.execCommand("copy"),document.body.removeChild(t)},e.download=function(e,t,n){void 0===n&&(n="text");var r=document.createElementNS("http://www.w3.org/1999/xhtml","a"),o=document.createEvent("MouseEvents"),a=window.URL||window.webkitURL||window,i=new Blob([e],{type:n});r.href=a.createObjectURL(i),r.download=t,o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o),a.revokeObjectURL(r.href),r.href=""},e.getDateStr=function(e){e=e||"yyyy-MM-dd hh:mm:ss";var t=new Date,n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var r in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},e.copyObj=function(e,t,n){if(e){for(var r in t=t||{},e)n&&"function"==typeof e[r]||(t[r]=e[r]);return t}},e.ConsoleLogFun=console.log,e.windowUidPropName="$gameInspectUid",e.windowUidDicPropName="$gameInspectUidDic",e}();t.Utils=o},8701:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUtils=void 0;var n=function(){function e(){}return e.createProgramUUID=function(){var e=this;return window[e.PROGRAM_ID_CREAT_PROP_NAME]||(window[e.PROGRAM_ID_CREAT_PROP_NAME]=0),window[e.PROGRAM_ID_CREAT_PROP_NAME]++,window[e.PROGRAM_ID_CREAT_PROP_NAME]},e.getProgramId=function(e,t){var n=this;if(!t)return 0;var r=t[n.ProgramIdPropName];return r||(r=n.createProgramUUID(),t[n.ProgramIdPropName]=r,window[n.PROGRAM_DATA_PROP_NAME]||(window[n.PROGRAM_DATA_PROP_NAME]={}),window[n.PROGRAM_DATA_PROP_NAME][r]={program:t,webgl:e}),r},e.getProgramData=function(e){return window[this.PROGRAM_DATA_PROP_NAME]?window[this.PROGRAM_DATA_PROP_NAME][e]:null},e.setCurrentProgram=function(e,t){var n=this;return window[n.CURRENT_PROGRAM_PROP_NAME]=n.getProgramId(e,t),window[n.CURRENT_PROGRAM_PROP_NAME]},e.getCurrentProgramId=function(e){var t=this;if(!window[t.CURRENT_PROGRAM_PROP_NAME]){var n=e.getParameter(e.CURRENT_PROGRAM);window[t.CURRENT_PROGRAM_PROP_NAME]=n?t.getProgramId(n,e):0}return window[t.CURRENT_PROGRAM_PROP_NAME]},e.saveShaderVarInfo=function(e,t,n,r,o){var a=window[this.LOCATION_INFO_PROP_NAME];a||(a=window[this.LOCATION_INFO_PROP_NAME]={}),a[e]||(a[e]={});var i={type:t,funName:r,name:n,value:o};a[e][n]=i},e.getShaderVarInfo=function(e,t){var n=window[this.LOCATION_INFO_PROP_NAME];return n&&n[e]?n[e][t]:null},e.getShaderVars=function(e){var t=window[this.LOCATION_INFO_PROP_NAME];return t?t[e]:null},e.initLocation=function(e,t,n){t&&(t[this.LocationNameProp]=n)},e.getLocationName=function(e){if(e)return e[this.LocationNameProp]},e.saveProgramCode=function(e,t,n){var r=this,o=r.getProgramId(e,t),a=window[r.PROGRAM_SHADER_CODE_PROP_NAME];a||(a=window[r.PROGRAM_SHADER_CODE_PROP_NAME]={});var i=a[o];i||(i=a[o]={programId:o});var s=e.getShaderParameter(n,e.SHADER_TYPE);return s==e.VERTEX_SHADER?i.vert=e.getShaderSource(n):s==e.FRAGMENT_SHADER&&(i.frag=e.getShaderSource(n)),i},e.getAllProgramCode=function(){return window[this.PROGRAM_SHADER_CODE_PROP_NAME]},e.getProgramCode=function(e){return window[this.PROGRAM_SHADER_CODE_PROP_NAME]?window[this.PROGRAM_SHADER_CODE_PROP_NAME][e]:null},e.isEqualShader=function(e,t){return(e=e.replace(/\r/gi,""))==t.replace(/\r/gi,"")},e.WEBGL_DRAW_CMDS=["drawArrays","drawElements","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","drawRangeElements","multiDrawArraysInstancedBaseInstanceWEBGL","multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL"],e.WEBGL_UNIFORM_CMDS=["uniform1f","uniform1fv","uniform1i","uniform1iv","uniform2f","uniform2fv","uniform2i","uniform2iv","uniform3f","uniform3fv","uniform3i","uniform3iv","uniform4f","uniform4fv","uniform4i","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv"],e.PROGRAM_ID_CREAT_PROP_NAME="$gameInspectProgramCreateId",e.CURRENT_PROGRAM_PROP_NAME="$gameInspectCurrentProgramId",e.PROGRAM_DATA_PROP_NAME="$gameInspectProgramData",e.ProgramIdPropName="$gameInspectProgramId",e.LocationNameProp="$gameInspcetLocationName",e.LOCATION_INFO_PROP_NAME="$gameInspectLocationInfo",e.PROGRAM_SHADER_CODE_PROP_NAME="$gameInspectProgramCode",e}();t.WebGLUtils=n},2951:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WindowMessage=void 0;var a=n(8786),i=n(9475),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.initListener=function(){var e=this;window.addEventListener("message",(function(t){t.data&&t.data.from==e._from||(i.ConstVars.DEBUG&&console.log(e._from+"收到消息",t),null!=e._onMessage&&e._onMessage.call(e._thisObj,t.data))}))},t.prototype.post=function(e,t){var n;n="string"==typeof e?{from:this._from,name:this._name,type:e,data:t}:e,window.postMessage(n,"*")},t}(a.BaseMessage);t.WindowMessage=s},201:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DrawControl=void 0;var r=n(4797),o=n(8701),a=function(){function e(e){this._drawCall=0,this._isChacheImage=!1,this._cacheImageData=[],this._cacheMiniImageData=[],this._newProgramLocation={},this._selectProgramId=0,this._msg=e,this.initProxy()}return Object.defineProperty(e.prototype,"drawCall",{get:function(){return this._drawCall},enumerable:!1,configurable:!0}),e.prototype.clearDrawCall=function(){this._drawCall=0},e.prototype.stopDrawDetial=function(){this._isChacheImage=!1},e.prototype.showDrawDeital=function(){var e=this;e._cacheImageData.length=0,e._cacheMiniImageData.length=0,e._isChacheImage=!0},Object.defineProperty(e.prototype,"isShowDrawDetial",{get:function(){return this._isChacheImage},enumerable:!1,configurable:!0}),e.prototype.getDrawDeitalData=function(){return this._cacheImageData},e.prototype.getDrawMiniImagesData=function(){return this._cacheMiniImageData},e.prototype.getBigImageData=function(e){return e<0||e>this._cacheImageData.length?null:this._cacheImageData[e]},e.prototype.saveWebglCode=function(e){var t=this;if(!e)return"没有数据";if(!e.frag)return"片元着色器不能为空";if(!e.vert)return"顶点着色器不能为空";var n=o.WebGLUtils.getProgramData(e.programId);if(!n)return"没有找到对应的program";var r=n.webgl,a=n.program;if(r.getProgramParameter(a,r.DELETE_STATUS))return"程序已被删除";for(var i,s,c=!1,g=r.getAttachedShaders(a),l=g?g.length:0,u=0;u<l;u++){var d=g[u],_=r.getShaderParameter(d,r.SHADER_TYPE);if(_==r.VERTEX_SHADER)i=d;else{if(_!=r.FRAGMENT_SHADER)continue;s=d}}var p="";if(i&&(p=r.getShaderSource(i)),!o.WebGLUtils.isEqualShader(p,e.vert)){if((f=t.getShader(r,e.vert,!0)).error)return f.error;i&&r.detachShader(a,i),r.attachShader(a,f.shader),c=!0}if(p="",s&&(p=r.getShaderSource(s)),!o.WebGLUtils.isEqualShader(p,e.frag)){var f;if((f=t.getShader(r,e.frag,!1)).error)return f.error;s&&r.detachShader(a,s),r.attachShader(a,f.shader),c=!0}if(!c)return"没有改变的shader";if(r.linkProgram(a),!r.getProgramParameter(a,r.LINK_STATUS))return"初始化shader 错误"+r.getProgramInfoLog(a);var m=t._newProgramLocation[e.programId]={},h=r.getProgramParameter(a,r.ACTIVE_UNIFORMS);for(u=0;u<h;u++){var v=r.getActiveUniform(a,u),w=r.getUniformLocation(a,v.name);m[v.name]=w;var I=o.WebGLUtils.getShaderVarInfo(e.programId,v.name);if(I){var C=I.value;C=[w].concat(C),r[I.funName].apply(r,C)}}return"保存成功"},e.prototype.getShader=function(e,t,n){var o=e.createShader(n?e.VERTEX_SHADER:e.FRAGMENT_SHADER);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var a="Shader 编译错误： "+e.getShaderInfoLog(o);return r.Utils.error(a),e.deleteShader(o),{error:a}}return{shader:o}},e.prototype.setSelectProgramId=function(e){this._selectProgramId=e},e.prototype.initProxy=function(){for(var e=this,t=[WebGL2RenderingContext.prototype,WebGLRenderingContext.prototype],n=function(n){var r=t[n],a="linkProgram",i=r[a];i&&Object.defineProperty(r,a,{value:function(){var t=arguments[0],n=o.WebGLUtils.getProgramId(this,t),r=i.apply(this,arguments);return e._msg.post("gameControlGetShaderCodeResponse",o.WebGLUtils.getProgramCode(n)),r}});for(var s=o.WebGLUtils.WEBGL_UNIFORM_CMDS,c=function(t){var n=s[t],a=r[n];if(!a)return"continue";Object.defineProperty(r,n,{value:function(){var t=this,r=arguments[0],i=o.WebGLUtils.getLocationName(r),s=o.WebGLUtils.getCurrentProgramId(t);if(e._newProgramLocation[s]){var c=e._newProgramLocation[s][i];if(!c)return console.log("webgl 执行 "+n+" 时的location可能已经不存在了 属性名："+i),null;arguments[0]=c}var g=a.apply(this,arguments);return g}})},g=0;g<s.length;g++)c(g);var l=o.WebGLUtils.WEBGL_DRAW_CMDS,u=function(t){var n=l[t],a=r[n];if(!a)return"continue";Object.defineProperty(r,n,{value:function(){var t=this,n=a.apply(this,arguments);if(e._isChacheImage){var r=t.canvas,i=r.getBoundingClientRect(),s=r.toDataURL("image/jpeg",1);e._cacheImageData.push({imgData:s,x:i.x,y:i.y,w:i.width,h:i.height});var c=r.toDataURL("image/jpeg",.1),g=o.WebGLUtils.getCurrentProgramId(t);e._cacheMiniImageData.push({imgData:c,programId:g})}return e._drawCall++,n}})};for(g=0;g<l.length;g++)u(g)},r=0;r<t.length;r++)n(r)},e}();t.DrawControl=a},3853:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Spector=void 0;var r=n(201),o=n(2847),a=function(){function e(e){this._isShowDraw=!1,this._isShowBigImage=!1;var t=this;t._msg=e,t._timeControl=new o.TimerControl(window,t.handleFrameStar,t.handleFrameEnd,t),t._drawControl=new r.DrawControl(e)}return e.prototype.init=function(e){},e.prototype.handleFrameStar=function(){this._drawControl.clearDrawCall()},e.prototype.handleFrameEnd=function(){var e=this,t=e._drawControl.getDrawMiniImagesData();e._drawControl.isShowDrawDetial&&t.length>0&&(e._msg.post("gameControlDrawDetialResponse",t),e._drawControl.stopDrawDetial())},e.prototype.showDrawDeital=function(){var e=this;0==e._timeControl.scale&&e._timeControl.showNextFrame(),e._drawControl.showDrawDeital()},e.prototype.setIsShowBigImage=function(e){var t=this;t._isShowBigImage=e,e?(t._bigImage||(t._bigImage=new Image,t._bigImage.style.cssText="\n                position: absolute;\n                display: block;\n                z-index: 1000;\n                left: 0px;\n                top: 0px;"),t._bigImage.src="",document.body.append(t._bigImage)):t._bigImage&&t._bigImage.remove()},e.prototype.setBigImageIndex=function(e){var t=this;if(t._bigImage&&t._isShowBigImage){var n=t._drawControl.getBigImageData(e);if(!n)return t._bigImage.width=0,t._bigImage.height=0,void(t._bigImage.src="");t._bigImage.src=n.imgData,t._bigImage.width=n.w,t._bigImage.height=n.h,t._bigImage.style.left=n.x+"px",t._bigImage.style.top=n.y+"px"}},e.prototype.setSelectProgramId=function(e){this._drawControl.setSelectProgramId(e)},e.prototype.saveWebglCode=function(e){var t=this._drawControl.saveWebglCode(e);this._msg.post("gameControlSaveWebglCodeResponse",{result:t})},e.prototype.setPlay=function(e){this._timeControl.scale=e?1:0},e.prototype.showNextFrame=function(){this._timeControl.showNextFrame()},Object.defineProperty(e.prototype,"fps",{get:function(){return this._timeControl.fps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameTime",{get:function(){return this._timeControl.frameTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drawCall",{get:function(){return this._drawControl.drawCall},enumerable:!1,configurable:!0}),e}();t.Spector=a},2847:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimerControl=void 0;var r=n(6030),o=function(){function e(e,t,n,r){this.requestAnimationFunName=["requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame"],this.setTimeFunName=["setTimeout","setInterval"],this._scale=1,this.frameNum=0,this._showNextFrame=!1,this._fps=0,this._frameCount=0,this._lastRecodeFpsTime=0,this._lastFrameTime=0,this._frameTime=0;var o=this;o._win=e,o._onFrameStar=t,o._onFrameEnd=n,o._frameCallThis=r,o.initProxy()}return Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e},enumerable:!1,configurable:!0}),e.prototype.showNextFrame=function(){var e=this;0!=e._scale&&(e._scale=0),e._showNextFrame=!0},Object.defineProperty(e.prototype,"fps",{get:function(){return this._fps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameTime",{get:function(){return this._frameTime},enumerable:!1,configurable:!0}),e.prototype.initProxy=function(){for(var e=this,t=e._win,n=function(n){var o=e.requestAnimationFunName[n];if(!r.FunUtils.saveOldFun(t,o))return"continue";t[o]=function(){var n=arguments[0],a=Array.prototype.slice.call(arguments);return a[0]=e.packFramCallBak(e,t,n,(function(){t[o](n)})),r.FunUtils.execOldFun(t,o,a)}},o=0;o<e.requestAnimationFunName.length;o++)n(o);var a=function(n){var o=e.setTimeFunName[n],a="setTimeout"==o;if(!r.FunUtils.saveOldFun(t,o))return"continue";t[o]=function(){var n=arguments[0],i=arguments[1],s=Array.prototype.slice.call(arguments);return s[0]=i>=1e3/60&&i<=1e3/12?e.packFramCallBak(e,t,n,(function(){t[o](n)})):e.packCallBak(e,t,n,a?function(){t[o](n)}:null),r.FunUtils.execOldFun(t,o,s)}};for(o=0;o<e.setTimeFunName.length;o++)a(o)},e.prototype.packCallBak=function(e,t,n,r){return function(){if(e._showNextFrame||e.scale>0&&!e.frameNum)try{n.apply(t,arguments)}catch(e){console.error(e)}else r&&r()}},e.prototype.packFramCallBak=function(e,t,n,r){return function(){var o=Date.now();if(e.frameNum=++e.frameNum%e._scale,e._showNextFrame||e.scale>0&&!e.frameNum){e._onFrameStar&&e._onFrameStar.call(e._frameCallThis);try{n.apply(t,arguments)}catch(e){console.error(e)}e._showNextFrame=!1,e._frameCount++,o-e._lastRecodeFpsTime>1e3&&(e._fps=e._frameCount,e._frameCount=0,e._lastRecodeFpsTime=o),e._frameTime=o-e._lastFrameTime,e._lastFrameTime=o,e._onFrameEnd&&e._onFrameEnd.call(e._frameCallThis)}else r&&r()}},e}();t.TimerControl=o},9715:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReloadInspect=void 0;var r=n(9475),o=n(8701),a=function(){function e(){this.initProxy()}return e.prototype.initProxy=function(){for(var e=[WebGL2RenderingContext.prototype,WebGLRenderingContext.prototype],t=function(t){var n=e[t],r="createProgram",a=n[r];a&&Object.defineProperty(n,r,{value:function(){var e=a.apply(this,arguments);return o.WebGLUtils.getProgramId(this,e),e}});var i="attachShader",s=n[i];s&&Object.defineProperty(n,i,{value:function(){var e=this,t=arguments[0],n=arguments[1];return o.WebGLUtils.saveProgramCode(e,t,n),s.apply(this,arguments)}});var c="useProgram",g=n[c];g&&Object.defineProperty(n,c,{value:function(){var e=arguments[0];return o.WebGLUtils.setCurrentProgram(this,e),g.apply(this,arguments)}});var l="getUniformLocation",u=n[l];u&&Object.defineProperty(n,l,{value:function(){var e=arguments[0],t=arguments[1],n=u.apply(this,arguments),r=o.WebGLUtils.getProgramId(this,e);return o.WebGLUtils.initLocation(r,n,t),n}});for(var d=o.WebGLUtils.WEBGL_UNIFORM_CMDS,_=function(e){var t=d[e],r=n[t];if(!r)return"continue";Object.defineProperty(n,t,{value:function(){for(var e=this,n=arguments[0],a=o.WebGLUtils.getCurrentProgramId(e),i=o.WebGLUtils.getLocationName(n),s=[],c=1;c<arguments.length;c++)s.push(arguments[c]);o.WebGLUtils.saveShaderVarInfo(a,2,i,t,s);var g=r.apply(this,arguments);return g}})},p=0;p<d.length;p++)_(p)},n=0;n<e.length;n++)t(n)},e}();t.ReloadInspect=a,window.hasOwnProperty(r.ConstVars.WINDOW_INJECT_RELOAD_CODE)&&window[r.ConstVars.WINDOW_INJECT_RELOAD_CODE]||(window[r.ConstVars.WINDOW_INJECT_RELOAD_CODE]=!0,new a)}},c={};function g(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={exports:{}};return s[e].call(n.exports,n,n.exports,g),n.exports}e=g(8946),t=g(4797),n=g(9475),r=g(3853),o=g(8701),a=g(9715),i=function(){function a(){this._treeSetting={hightLightClick:!1,hightlightHover:!1,preEventTouch:!1,showPrivate:!1,showFunction:!1,showFPS:!0},this._heartBeatCount=0,this._devPanelHasOpen=!1,this._heartBeatId=0,this._checkCustomEngineInterval=0,this.init()}return a.prototype.init=function(){var o=this;if(o.msg=e.Message.getMessage("Stage",o.handleRecvMessage,o),o._spector=new r.Spector(o.msg),o._engineManager=window[n.ConstVars.ENGINE_MANAGER_PROP_NAME],o._extendManager=window[n.ConstVars.ENGINE_EXTEND_PROP_NAME],o._engineManager){o._engineManager.init(),o._extendManager.init(),window.hasOwnProperty(n.ConstVars.WINDOW_RELOAD_TAG)&&window[n.ConstVars.WINDOW_RELOAD_TAG]&&o.msg.post("gameControlReloadComplete"),o._checkCustomEngineInterval=setInterval((function(){o.checkCostomEngine()}),3e3);var a=setInterval((function(){o._engine=o._engineManager.check(),o._engine&&(window[n.ConstVars.WINDOW_HAS_FIND_ENGINE]=!0,clearInterval(a),o._extendManager.start(o._engine),o.checkExtends(),o._engine.init(),t.Utils.setObjectDevUUID(o._engine.stage),t.Utils.setObjectDevUUID(o._engine.baseCls.prototype),o._engine.start((function(e){e?o.showClickObj(e,o._treeSetting.hightLightClick):o._engine.clearMask()}),(function(e){if(e){if(o._treeSetting.hightlightHover){if(o._lastMoveObj==e)return;o._lastMoveObj=e,o.showClickObj(e,o._treeSetting.hightlightHover)}}else o._engine.clearMask()})),o._gameInfo={name:window.document.title,engin:o._engine.name,extend:[],version:o._engine.version},o.initEngineUserCode(o._engine.name),o.msg.post("treeSetingReq"),o.msg.post("gameInfoResponse",o._gameInfo),o.handleInitStage(),o.msg.post("EngineInitReq"))}),1e3)}else t.Utils.error("没有找到引擎管理类  EngineManager")},a.prototype.checkExtends=function(){var e=this;setInterval((function(){e._extendManager.checkAttach();var t=e._extendManager.checkHaveUsed();t&&(-1==e._gameInfo.extend.indexOf(t.name)&&e._gameInfo.extend.push(t.name),e.msg.post("gameInfoResponse",e._gameInfo))}),1500)},a.prototype.runHeartBeat=function(e){var r=this;e&&r._heartBeatId||!e&&!r._heartBeatId||(r._heartBeatId&&(clearInterval(r._heartBeatId),r._heartBeatId=0,r._heartBeatCount=0),e&&(r._heartBeatId=setInterval((function(){r._heartBeatCount++,n.ConstVars.DEBUG&&r._heartBeatCount>10&&(r._heartBeatCount=0,t.Utils.error("content  多次链接不上 deve")),r.msg.post("contentHeartBeatReq")}),n.ConstVars.HEARTBEAT)))},a.prototype.checkCostomEngine=function(){var e=this;if(!e._customEngine&&window.getGameInspectUserCostomEngine&&(clearInterval(e._checkCustomEngineInterval),e._checkCustomEngineInterval=0,e._customEngine=window.getGameInspectUserCostomEngine(),e._customEngine&&e._customEngine.engine)){var t=e._customEngine.engine;if(Array.isArray(t))for(var n=0;n<t.length;n++)e._engineManager.register(t[n]);else e._engineManager.register(t)}},a.prototype.showClickObj=function(e,t){for(var n,r=this,o=e;o;){var a=r._engineManager.getTreeNode(r._engine,o),i=r._engine.getChildren(o),s=[];if(i)for(var c=0;c<i.length;c++)n&&n.uid==i[c].devUUID?s.push(n):s.push(r._engineManager.getTreeNode(r._engine,i[c]));a.updateChild(s,!1),(n=a).show=!0,n.updateIcon(),o=r._engine.getParent(o)}r.msg.post("initStageDataResponse",n),r._engine&&(t&&r._engine.drawMask(e),r.msg.post("selectNode",e.devUUID)),r.msg.post("propDataResponse",{uid:e.devUUID,props:r._engine.getProps(e,r._treeSetting.showPrivate,r._treeSetting.showFunction)})},a.prototype.handleInitStage=function(){var e=this,t=e._engineManager.getTreeNode(e._engine,e._engine.stage);e.msg.post("initStageDataResponse",t)},a.prototype.handleRecvMessage=function(e){var r,a=this,i=e.data;if("contentHeartBeatResponse"!=e.type)if("EngineInitResponse"!=e.type){if("devPanelStateChange"==e.type)return a._devPanelHasOpen=i.isShow,a._devPanelHasOpen&&t.Utils.addSrcScript(n.ConstVars.TongJiURL,"baiduhmjs",null,!1),void a.runHeartBeat(a._devPanelHasOpen);if("getContentURLReq"!=e.type)if("initUserCode"!=e.type)if("runUserCodeReq"!=e.type){if("devHeartBeatReq"==e.type){for(var s=0,c=(d=window.performance).eventCounts.entries(),g=c.next();!g.done;)s+=g.value[1],g=c.next();var l=d.memory,u={jsHeapSizeLimit:l.jsHeapSizeLimit,totalJSHeapSize:l.totalJSHeapSize,usedJSHeapSize:l.usedJSHeapSize};window[n.ConstVars.WINDOW_HAS_FIND_ENGINE]&&!a._engine||a.msg.post("devHeartBeatResponse",{fps:a._spector.fps,drawCall:a._spector.drawCall,frameTime:a._spector.frameTime,jsHeap:u,eventCounts:s})}else if("gamePerformanceLoadInfoReq"==e.type){if(!window[n.ConstVars.WINDOW_HAS_FIND_ENGINE]||a._engine){var d=window.performance,_={navigation:t.Utils.copyObj(d.navigation,null,!0),timing:t.Utils.copyObj(d.timing,null,!0),timeOrigin:d.timeOrigin};a.msg.post("gamePerformanceLoadInfoResponse",_)}}else if("gameContronPlayReq"==e.type)a._spector.setPlay(i);else if("gameControlPlayNextFrameReq"==e.type)a._spector.showNextFrame();else if("gameControlDrawDetialReq"==e.type)a._spector.showDrawDeital();else if("gameControlDrawDetialShowBigReq"==e.type)a._spector.setIsShowBigImage(i);else if("gameControlJumpDrawDetialIndexReq"==e.type)a._spector.setBigImageIndex(i);else if("gameControlSaveWebglCodeReq"==e.type)a._spector.saveWebglCode(i);else if("gameControlGetShaderCodeReq"==e.type){var p=o.WebGLUtils.getAllProgramCode();a.msg.post("gameControlGetShaderCodeResponse",p)}else"gameControlSelectShaderReq"==e.type&&a._spector.setSelectProgramId(i);if(a._engine){if("expandTreeReq"==e.type){var f=t.Utils.getObjectByDevUUID(i);if(a._engine.canUse(f)){var m=[],h=a._engine.getChildren(f);if(h)for(var v=0;v<h.length;v++)m.push(a._engineManager.getTreeNode(a._engine,h[v]));a.msg.post("expandTreeResponse",{uid:f.devUUID,children:m})}}else if("initStageDataReq"==e.type)a.handleInitStage();else if("propChangeReq"==e.type){var w=i.data,I=(f=t.Utils.getObjectByDevUUID(i.uid),i.propPath),C=i.isRecodChange;if(a._engine.canUse(f)){var E=a._extendManager.getExtendNode(f),P=void 0;if(I){var R=I.split("."),y=function(e){if(e==R.length-1)a._engine.setPropValue(E,R[e],w),P=E[R[e]],a.msg.post("propChangeResponse",{uid:f.devUUID,propPath:I,data:t.Utils.stringifyValue(P),recodChangeStr:C?a.getRecoderStr(f,I,P):null}),a._engine.refushMask&&a._engine.refushMask();else{var n=R[e];if(-1!=n.toLocaleLowerCase().indexOf("color")){var r=E,o=E[n];"object"==typeof o&&setTimeout((function(){r[n]=o}),5)}if(!(E=E[n]))return{value:void 0}}};for(v=0;v<R.length;v++){var U=y(v);if("object"==typeof U)return U.value}}}}else if("showRectInStageReq"==e.type)f=t.Utils.getObjectByDevUUID(i),a._engine.canUse(f)&&(a._engine.drawMask(f),a.msg.post("selectNode",f.devUUID));else if("propDataReq"==e.type)f=t.Utils.getObjectByDevUUID(i),a._engine.canUse(f)&&a.msg.post("propDataResponse",{uid:f.devUUID,props:a._engine.getProps(f,a._treeSetting.showPrivate,a._treeSetting.showFunction)});else if("treeSettingInfo"==e.type){for(var N in i)a._treeSetting[N]=i[N];0!=i.hightLightClick&&0!=i.hightlightHover||a._engine&&a._engine.clearMask(),0==i.hightlightHover&&(a._lastMoveObj=null),null!=i.showFPS&&a._engine.showFPS(a._treeSetting.showFPS),a._engine.setMouseEnable(!i.preEventTouch)}else if("expandPropReq"==e.type){if(f=t.Utils.getObjectByDevUUID(i.uid),a._engine.canUse(f)){for(I=i.prop.split("."),E=a._extendManager.getExtendNode(f),v=0;v<I.length;v++)if(!(E=E[I[v]]))return;a.msg.post("expandPropResponse",{uid:f.devUUID,prop:i.prop,data:a._engine.getProps(E,a._treeSetting.showPrivate,a._treeSetting.showFunction)})}}else if("visibleChangeReq"==e.type)f=t.Utils.getObjectByDevUUID(i.uid),a._engine.canUse(f)&&(a._engine.setVisible(f,i.data),a.msg.post("propDataResponse",{uid:f.devUUID,props:a._engine.getProps(f,a._treeSetting.showPrivate,a._treeSetting.showFunction)}));else if("gameInfoReq"==e.type)a._gameInfo&&a.msg.post("gameInfoResponse",a._gameInfo);else if("showTreeNodeInConsoleReq"==e.type)if(f=t.Utils.getObjectByDevUUID(i),a._engine.canUse(f))if(f=a._extendManager.getExtendNode(f),a._customEngine&&a._customEngine.printVar)a._customEngine.printVar(f);else{var D="gameInspectNode"+f.devUUID;t.Utils.log("临时变量名",D),console.log(f),window[D]=f}else n.ConstVars.DEBUG&&console.log("没有找到节点： "+i);else if("inspectClassDefinedReq"==e.type)if(f=t.Utils.getObjectByDevUUID(i),a._engine.canUse(f)){var O="gameInspectClassFun"+(f=a._extendManager.getExtendNode(f)).devUUID,S=f.constructor;a._customEngine&&a._customEngine.getClassFun&&(S=a._customEngine.getClassFun(f)),S&&(window[O]=S,a.msg.post("inspectCodeResponse",{name:O,url:location.href}))}else n.ConstVars.DEBUG&&console.log("没有找到节点： "+i);else if("inspectVarDefinedReq"==e.type)f=t.Utils.getObjectByDevUUID(i),a._engine.canUse(f)?(O="gameInspectVarFun"+(f=a._extendManager.getExtendNode(f)).devUUID,(S=a.getVarLocationFun(f))?(window[O]=S,a.msg.post("inspectCodeResponse",{name:O,url:location.href})):(t.Utils.error("没有找到对应的变量声明"),alert("未找到变量声明的地方"))):n.ConstVars.DEBUG&&console.log("没有找到节点： "+i);else if("showTreeNodePathReq"==e.type)f=t.Utils.getObjectByDevUUID(i),a._engine.canUse(f)&&a.printNodePath(f);else if("showPropFunDefineReq"==e.type){var b="gameInspectPropFun_"+i.uid+"_"+i.propPath.replace(/\./gi,"_");if(f=t.Utils.getObjectByDevUUID(i.uid),a._engine.canUse(f)){for(f=a._extendManager.getExtendNode(f),I=i.propPath.split("."),E=f,S=void 0,v=0;v<I.length;v++){if(!(E=E[I[v]]))return;v==I.length-1&&(S=E)}S?(window[b]=S,a.msg.post("inspectCodeResponse",{name:b,url:location.href})):(t.Utils.error("没有找到属性的方法定义"),alert("没有找到属性的方法定义"))}}n.ConstVars.DEBUG&&console.log(" Inspection  接受到消息： ",e)}}else{var M=i;"once"==M.type?(t.Utils.addScript(M.code,M.name),t.Utils.log("执行成功 url: "+location.href)):a.checkRunUserCode(((r={})[M.name]=M,r),!0)}else a.checkRunUserCode(i);else a.msg.post("getContentURLResponse",{url:window.location.href,engine:a._engine?a._engine.name:void 0,frameId:e.frameId})}else window[n.ConstVars.WINDOW_HAS_FIND_ENGINE]=!0;else a._heartBeatCount--},a.prototype.checkRunUserCode=function(e,r){var o=this,a={url:window.location.href,frameId:window.location==top.location?0:1,engine:o._engine?o._engine.name:""};for(var i in e){var s=e[i],c=s.match;c?(c=(c=c.replace(/^\s*\/\/.*?([\n\r]|$)/gi,"")).replace(/\/\*(.|[\n\r])*?\*\//gi,""),a.engine||-1==c.indexOf(n.ConstVars.$VarEngineName)&&-1==c.indexOf(n.ConstVars.$VarGameURL)?t.Utils.evalUserRuleCode(c,a,s.name)?(window.location.href==window.top.location.href&&t.Utils.addScript(s.code,s.name),r&&t.Utils.log("执行成功 url: "+location.href)):r&&t.Utils.error("当前网站不匹配  url: "+location.href):(o._engineRunUserCode||(o._engineRunUserCode={}),o._engineRunUserCode[s.name]=s,r&&t.Utils.error("执行失败，引擎未初始化 url: "+location.href))):r&&t.Utils.error("没有匹配规则 url: "+location.href)}},a.prototype.initEngineUserCode=function(e){var n=this;if(n._engineRunUserCode){var r={url:window.location.href,frameId:window.location==top.location?0:1,engine:e};for(var o in n._engineRunUserCode){var a=n._engineRunUserCode[o];a.match&&t.Utils.evalUserRuleCode(a.match,r,a.name)&&t.Utils.addScript(a.code,a.name)}}},a.prototype.getRecoderStr=function(e,n,r){var o=this;if(e&&o._engine){if(o._customEngine&&o._customEngine.getRecoderStr)return o._customEngine.getRecoderStr(e,n,r);for(var a=n.split("."),i=e,s="",c=0;c<a.length;c++){var g=a[c];s=Array.isArray(i)?s+"["+g+"]":s+"."+g,i=i[g]}var l=o.getNodePath(e),u=t.Utils.stringifyValue(r);return"string"==typeof r&&(u='"'+u+'"'),l+s+" = "+u}},a.prototype.getVarLocationFun=function(e){var n=this;if(e&&n._engine){var r;if(n._customEngine&&n._customEngine.getVarLocationFun)r=n._customEngine.getVarLocationFun(e);else for(var o=n._engine.getParent(e);o;){var a=Object.keys(o);for(var i in a){var s=a[i];if(o[s]==e){r=o.constructor,t.Utils.log("对应变量： ".concat(s));break}}o=n._engine.getParent(o)}return r}},a.prototype.printNodePath=function(e){e&&this._engine&&t.Utils.log("对应变量： "+this.getNodePath(e))},a.prototype.getNodePath=function(e){var t=this;if(e&&t._engine){var n="";if(t._customEngine&&t._customEngine.getNodePath)return t._customEngine.getNodePath(e);for(var r=void 0,o=e;o;){r=t._engine.getParent(o);for(var a=void 0;r;){var i=Object.keys(r);for(var s in i){var c=i[s];if(r[c]==o){a=c,o=r;break}}if(a)break;r=t._engine.getParent(r)}if(a)n=a+(n?"."+n:"");else{a||(a=t._engine.getObjName(o));var g=t._engine.getParent(o);!a&&g&&-1!=(s=t._engine.getChildren(g).indexOf(o))&&(a=s+""),a&&(n=a+(n?"."+n:"")),g||(n=t._engine.getClassName(o)+(n?"."+n:"")),o=g}}return n}},a}(),a.ReloadInspect,new i,window[n.ConstVars.GAMEINSPECT_INIT]=!0})();