(()=>{var e,n;e={},n={},chrome.runtime.onMessage.addListener((function(a,d,r){var o,i;if("devPanelStateChange"==a.type){var t=a.data;for(var s in e)(l=e[s]).name=="DevPanel"+t.tabId&&l.postMessage(a);for(var s in n){var l;(null===(i=null===(o=null==(l=n[s])?void 0:l.sender)||void 0===o?void 0:o.tab)||void 0===i?void 0:i.id)==t.tabId&&l.postMessage(a)}return!0}})),chrome.runtime.onConnect.addListener((function(a){var d,r,o="DevPanel",i="contentChrome",t=0;if(0==a.name.indexOf(o))d=e,r=n,t=+a.name.replace(o,"");else{if(0!=a.name.indexOf(i))return void console.log("不是 合法的prot.name"+a.name);d=n,r=e,t=a.sender.tab.id}d[a.name]=a,a.onMessage.addListener((function(e,n){for(var a in r){var d=r[a],s=0;0==d.name.indexOf(o)?(s=+d.name.replace(o,""),e.frameId=n.sender.frameId):0==d.name.indexOf(i)&&(s=d.sender.tab.id,e.frameId=d.sender.frameId),s==t&&d.postMessage(e)}})),a.onDisconnect.addListener((function(){var e,n,r=(null===(n=null===(e=null==a?void 0:a.sender)||void 0===e?void 0:e.tab)||void 0===n?void 0:n.url)||"";console.log("断开链接： "+a.name+" in "+r),delete d[a.name]}))}))})();